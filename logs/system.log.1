2018-04-19 11:52:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:52:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:52:17  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:52:17  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:52:17  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:52:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:52:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:52:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:52:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:52:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:52:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:53:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:53:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 11:53:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:53:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:53:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 11:53:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:53:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:53:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:53:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:53:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:53:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:54:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 11:54:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:54:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:54:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:54:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 11:54:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:54:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:54:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:54:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:54:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:54:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:55:03  INFO local:839 - local: Destroyed connection
2018-04-19 11:55:08  INFO local:839 - local: Destroyed connection
2018-04-19 11:55:08  INFO local:839 - local: Destroyed connection
2018-04-19 11:55:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:55:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 11:55:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:55:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:55:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 11:55:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:55:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:55:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:55:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:55:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:55:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:56:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:56:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 11:56:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:56:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:56:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 11:56:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:56:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:56:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:56:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:56:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:56:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:57:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:57:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 11:57:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:57:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:57:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 11:57:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:57:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:57:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:57:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:57:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:57:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:58:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:58:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 11:58:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:58:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:58:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 11:58:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:58:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:58:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:58:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:58:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:58:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:59:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:59:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 11:59:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 11:59:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 11:59:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 11:59:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:59:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 11:59:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 11:59:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 11:59:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 11:59:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:00:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:00:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:00:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:00:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:00:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:00:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:00:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:00:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:00:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:00:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:00:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:01:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:01:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:01:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:01:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:01:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:01:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:01:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:01:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:01:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:01:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:01:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:02:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:02:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:02:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:02:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:02:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:02:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:02:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:02:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:02:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:02:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:02:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:03:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:03:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:03:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:03:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:03:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:03:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:03:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:03:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:03:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:03:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:03:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:04:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:04:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:04:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:04:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:04:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:04:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:04:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:04:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:04:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:04:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:04:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:05:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:05:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:05:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:05:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:05:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:05:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:05:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:05:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:05:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:05:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:05:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:06:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:06:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:06:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:06:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:06:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:06:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:06:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:06:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:06:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:06:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:06:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:07:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:07:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:07:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:07:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:07:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:07:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:07:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:07:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:07:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:07:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:07:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:08:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:08:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:08:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:08:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:08:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:08:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:08:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:08:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:08:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:08:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:08:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:09:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:09:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:09:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:09:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:09:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:09:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:09:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:09:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:09:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:09:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:09:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:10:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:10:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:10:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:10:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:10:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:10:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:10:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:10:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:10:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:10:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:10:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:11:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:11:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:11:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:11:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:11:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:11:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:11:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:11:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:11:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:11:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:11:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:12:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:12:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:12:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:12:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:12:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:12:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:12:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:12:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:12:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:12:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:12:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:13:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:13:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:13:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:13:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:13:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:13:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:13:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:13:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:13:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:13:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:13:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:14:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:14:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:14:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:14:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:14:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:14:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:14:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:14:35  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:14:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:14:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:14:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:15:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:15:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:15:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:15:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:15:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:15:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:15:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:15:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:15:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:15:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:15:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:16:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:16:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:16:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:16:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:16:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:16:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:16:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:16:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:16:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:16:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:16:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:17:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:17:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:17:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:17:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:17:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:17:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:17:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:17:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:17:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:17:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:17:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:18:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:18:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:18:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:18:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:18:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:18:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:18:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:18:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:18:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:18:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:18:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:19:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:19:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:19:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:19:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:19:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:19:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:19:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:19:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:19:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:19:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:19:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:20:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:20:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:20:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:20:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:20:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:20:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:20:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:20:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:20:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:20:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:20:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:21:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:21:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:21:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:21:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:21:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:21:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:21:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:21:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:21:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:21:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:21:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:22:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:22:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:22:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:22:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:22:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:22:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:22:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:22:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:22:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:22:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:22:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:23:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:23:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:23:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:23:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:23:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:23:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:23:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:23:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:23:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:23:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:23:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:24:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:24:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:24:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:24:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:24:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:24:40 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:24:40 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:24:40  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:24:40  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:24:40  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:24:40  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:25:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:25:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:25:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:25:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:25:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:25:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:25:35 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:25:35  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:25:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:25:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:25:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:26:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:26:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:26:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:26:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:26:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:26:35 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:26:35 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:26:36  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:26:36  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:26:36  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:26:36  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:27:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:27:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:27:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:27:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:27:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:27:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:27:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:27:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:27:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:27:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:27:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:28:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:28:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:28:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:28:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:28:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:28:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:28:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:28:35  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:28:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:28:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:28:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:29:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:29:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:29:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:29:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:29:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:29:35 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:29:35 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:29:35  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:29:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:29:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:29:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:30:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:30:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:30:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:30:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:30:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:30:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:30:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:30:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:30:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:30:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:30:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:31:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:31:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:31:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:31:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:31:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:31:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:31:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:31:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:31:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:31:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:31:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:32:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:32:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:32:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:32:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:32:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:32:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:32:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:32:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:32:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:32:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:32:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:33:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:33:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:33:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:33:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:33:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:33:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:33:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:33:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:33:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:33:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:33:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:34:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:34:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:34:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:34:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:34:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:34:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:34:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:34:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:34:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:34:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:34:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:35:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:35:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:35:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:35:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:35:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:35:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:35:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:35:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:35:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:35:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:35:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:36:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:36:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:36:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:36:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:36:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:36:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:36:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:36:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:36:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:36:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:36:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:37:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:37:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:37:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:37:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:37:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:37:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:37:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:37:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:37:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:37:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:37:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:38:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:38:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:38:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:38:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:38:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:38:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:38:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:38:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:38:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:38:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:38:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:39:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:39:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:39:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:39:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:39:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:39:34 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:39:34 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:39:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:39:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:39:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:39:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:39:40  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:39:40  INFO local:839 - local: Created a new connection
2018-04-19 12:39:40  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:39:40  INFO local:839 - local: Created a new connection
2018-04-19 12:39:40  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:39:40  INFO local:839 - local: Created a new connection
2018-04-19 12:39:40  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:39:40  INFO local:839 - local: Created a new connection
2018-04-19 12:39:40  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:39:41  INFO local:839 - local: Created a new connection
2018-04-19 12:39:41  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:39:41  INFO local:839 - local: Created a new connection
2018-04-19 12:39:41  INFO log:178 - Logging initialized @2123ms
2018-04-19 12:39:41  INFO WebServer:74 - Start server...
2018-04-19 12:39:41  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@4cfaa332{/,null,null} contextPath ends with /*
2018-04-19 12:39:41  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:39:41  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@4cfaa332{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:39:41  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@39569769{/,null,AVAILABLE}
2018-04-19 12:39:41  INFO ServerConnector:266 - Started ServerConnector@5f0641c2{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:39:41  INFO Server:350 - Started @2381ms
2018-04-19 12:39:42  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:39:42  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:39:42  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:39:42  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:40:11 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:40:11 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:40:11  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:40:11  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:40:11  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:40:11  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:40:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:40:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:40:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:40:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:40:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:40:19  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:20  INFO local:839 - local: Created a new connection
2018-04-19 12:40:20  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:20  INFO local:839 - local: Created a new connection
2018-04-19 12:40:20  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:20  INFO local:839 - local: Created a new connection
2018-04-19 12:40:20  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:20  INFO local:839 - local: Created a new connection
2018-04-19 12:40:20  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:20  INFO local:839 - local: Created a new connection
2018-04-19 12:40:20  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:20  INFO local:839 - local: Created a new connection
2018-04-19 12:40:21  INFO log:178 - Logging initialized @1830ms
2018-04-19 12:40:21  INFO WebServer:74 - Start server...
2018-04-19 12:40:21  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 12:40:21  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:40:21  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:40:21  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@50fb2c50{/,null,AVAILABLE}
2018-04-19 12:40:21  INFO ServerConnector:266 - Started ServerConnector@6c76bc7b{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:40:21  INFO Server:350 - Started @2020ms
2018-04-19 12:40:21  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:40:21  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:40:21  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:40:21  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:40:42  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:43  INFO local:839 - local: Created a new connection
2018-04-19 12:40:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:43  INFO local:839 - local: Created a new connection
2018-04-19 12:40:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:43  INFO local:839 - local: Created a new connection
2018-04-19 12:40:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:43  INFO local:839 - local: Created a new connection
2018-04-19 12:40:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:43  INFO local:839 - local: Created a new connection
2018-04-19 12:40:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:40:43  INFO local:839 - local: Created a new connection
2018-04-19 12:40:44  INFO log:178 - Logging initialized @1933ms
2018-04-19 12:40:44  INFO WebServer:74 - Start server...
2018-04-19 12:40:44  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@6047fba8{/,null,null} contextPath ends with /*
2018-04-19 12:40:44  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:40:44  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@6047fba8{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:40:44  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@24003494{/,null,AVAILABLE}
2018-04-19 12:40:44  INFO ServerConnector:266 - Started ServerConnector@26d4f6d4{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:40:44  INFO Server:350 - Started @2200ms
2018-04-19 12:40:45  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:40:45  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:40:45  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:40:45  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:41:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:01  INFO local:839 - local: Created a new connection
2018-04-19 12:41:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:01  INFO local:839 - local: Created a new connection
2018-04-19 12:41:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:01  INFO local:839 - local: Created a new connection
2018-04-19 12:41:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:01  INFO local:839 - local: Created a new connection
2018-04-19 12:41:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:01  INFO local:839 - local: Created a new connection
2018-04-19 12:41:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:01  INFO local:839 - local: Created a new connection
2018-04-19 12:41:02  INFO log:178 - Logging initialized @2134ms
2018-04-19 12:41:02  INFO WebServer:74 - Start server...
2018-04-19 12:41:02  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@2e194d2a{/,null,null} contextPath ends with /*
2018-04-19 12:41:02  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:41:02  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@2e194d2a{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:41:02  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@61d97ec0{/,null,AVAILABLE}
2018-04-19 12:41:02  INFO ServerConnector:266 - Started ServerConnector@51c1b452{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:41:02  INFO Server:350 - Started @2365ms
2018-04-19 12:41:03  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:41:03  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:41:03  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:41:03  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:41:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:41:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:41:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:41:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:41:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:41:34  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:35  INFO local:839 - local: Created a new connection
2018-04-19 12:41:35  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:35  INFO local:839 - local: Created a new connection
2018-04-19 12:41:35  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:35  INFO local:839 - local: Created a new connection
2018-04-19 12:41:35  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:35  INFO local:839 - local: Created a new connection
2018-04-19 12:41:35  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:35  INFO local:839 - local: Created a new connection
2018-04-19 12:41:35  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:41:35  INFO local:839 - local: Created a new connection
2018-04-19 12:41:36  INFO log:178 - Logging initialized @2253ms
2018-04-19 12:41:36  INFO WebServer:74 - Start server...
2018-04-19 12:41:36  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@6047fba8{/,null,null} contextPath ends with /*
2018-04-19 12:41:36  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:41:36  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@6047fba8{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:41:36  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@1e4ad3f0{/,null,AVAILABLE}
2018-04-19 12:41:36  INFO ServerConnector:266 - Started ServerConnector@11cf8002{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:41:36  INFO Server:350 - Started @2543ms
2018-04-19 12:41:36  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:41:36  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:41:36  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:41:36  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:42:06 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:42:06 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:42:06  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:42:06  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:42:06  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:42:06  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:42:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:42:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:42:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:42:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:42:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:43:06 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:43:06 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:43:06  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:43:06  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:43:06  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:43:06  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:43:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:43:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:43:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:43:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:43:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:44:06 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:44:06 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:44:06  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:44:06  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:44:06  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:44:06  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:45:38  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:45:38  INFO local:839 - local: Created a new connection
2018-04-19 12:45:38  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:45:38  INFO local:839 - local: Created a new connection
2018-04-19 12:45:38  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:45:38  INFO local:839 - local: Created a new connection
2018-04-19 12:45:38  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:45:39  INFO local:839 - local: Created a new connection
2018-04-19 12:45:39  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:45:39  INFO local:839 - local: Created a new connection
2018-04-19 12:45:39  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:45:39  INFO local:839 - local: Created a new connection
2018-04-19 12:45:39  INFO log:178 - Logging initialized @1949ms
2018-04-19 12:45:39  INFO WebServer:74 - Start server...
2018-04-19 12:45:40  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@4cfaa332{/,null,null} contextPath ends with /*
2018-04-19 12:45:40  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:45:40  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@4cfaa332{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:45:40  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@643fce07{/,null,AVAILABLE}
2018-04-19 12:45:40  INFO ServerConnector:266 - Started ServerConnector@3d5d1af0{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:45:40  INFO Server:350 - Started @2294ms
2018-04-19 12:45:42  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:45:42  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:45:42  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:45:42  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:46:10 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:46:10 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:46:10  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:46:10  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:46:10  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:46:10  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:46:15  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:46:15  INFO local:839 - local: Created a new connection
2018-04-19 12:46:15  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:46:15  INFO local:839 - local: Created a new connection
2018-04-19 12:46:15  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:46:16  INFO local:839 - local: Created a new connection
2018-04-19 12:46:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:46:16  INFO local:839 - local: Created a new connection
2018-04-19 12:46:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:46:16  INFO local:839 - local: Created a new connection
2018-04-19 12:46:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:46:16  INFO local:839 - local: Created a new connection
2018-04-19 12:46:16  INFO log:178 - Logging initialized @1928ms
2018-04-19 12:46:16  INFO WebServer:74 - Start server...
2018-04-19 12:46:17  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@4cfaa332{/,null,null} contextPath ends with /*
2018-04-19 12:46:17  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:46:17  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@4cfaa332{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:46:17  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@32f26fe7{/,null,AVAILABLE}
2018-04-19 12:46:17  INFO ServerConnector:266 - Started ServerConnector@532b8965{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:46:17  INFO Server:350 - Started @2185ms
2018-04-19 12:46:18  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:46:18  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:46:18  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:46:18  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:46:47 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:46:47 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:46:47  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:46:47  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:46:47  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:46:47  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:47:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:47:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:47:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:47:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:47:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:47:47 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:47:47 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:47:47  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:47:47  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:47:47  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:47:47  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:48:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:48:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:48:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:48:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:48:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:48:47 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:48:47 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:48:47  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:48:47  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:48:47  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:48:47  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:49:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:49:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:49:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:49:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:49:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:49:16  INFO local:839 - local: Destroyed connection
2018-04-19 12:49:21  INFO local:839 - local: Destroyed connection
2018-04-19 12:49:21  INFO local:839 - local: Destroyed connection
2018-04-19 12:49:47 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:49:47 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:49:47  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:49:47  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:49:47  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:49:47  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:50:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:50:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:50:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:50:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:50:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:50:47 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:50:47 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:50:47  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5"}}
2018-04-19 12:50:47  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:50:47  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:50:47  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:51:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:51:01  INFO local:839 - local: Created a new connection
2018-04-19 12:51:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:51:01  INFO local:839 - local: Created a new connection
2018-04-19 12:51:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:51:02  INFO local:839 - local: Created a new connection
2018-04-19 12:51:02  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:51:02  INFO local:839 - local: Created a new connection
2018-04-19 12:51:02  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:51:02  INFO local:839 - local: Created a new connection
2018-04-19 12:51:02  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:51:02  INFO local:839 - local: Created a new connection
2018-04-19 12:51:02  INFO log:178 - Logging initialized @1989ms
2018-04-19 12:51:02  INFO WebServer:74 - Start server...
2018-04-19 12:51:02  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@4cfaa332{/,null,null} contextPath ends with /*
2018-04-19 12:51:02  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:51:02  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@4cfaa332{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:51:03  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@32f26fe7{/,null,AVAILABLE}
2018-04-19 12:51:03  INFO ServerConnector:266 - Started ServerConnector@ef7d327{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:51:03  INFO Server:350 - Started @2206ms
2018-04-19 12:51:03  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:51:03  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:51:03  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:51:03  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:51:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:51:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1), (7, 33, 6, 'invoice', '1804190330004', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 11:52:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190330004\",\"invoice_no\":4,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":33,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 11:52:17\",\"payment_status\":1,\"table_id\":6}', 1), (8, 33, 6, 'invoice_detail', '1804190330004', 1, '{\"amount\":5000,\"invoice_code\":\"1804190330004\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:52:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:51:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:51:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:51:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524113400328"}],"invoice_date":"180419"}}
2018-04-19 12:51:33 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:51:33 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:51:33  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 12:51:33  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190330003","1804190330004"],"store_code":"tructrac"}
2018-04-19 12:51:33  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5,7,8"}}
2018-04-19 12:51:33  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190330003","table_id":2},{"invoice_code":"1804190330004","table_id":6}],"updated_invoices":[{"guest_info":"","note":"","amount":15000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 11:44:09","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190330003","created_date_time":"2018-04-19 11:44:09","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":33,"checksum":1,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":5000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 11:52:17","item_id":3,"machine_id":33,"item_name":"choco \"pie\"","unit_price":5000,"invoice_detail_id":1,"invoice_code":"1804190330004","order_status":0,"staff_id":1,"local_invoice_detail_id":2}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 11:52:17","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190330004","created_date_time":"2018-04-19 11:52:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":33,"checksum":1,"invoice_id":2,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524117093402"}}
2018-04-19 12:51:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:51:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5,7,8","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:51:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:54:24  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:54:25  INFO local:839 - local: Created a new connection
2018-04-19 12:54:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:54:25  INFO local:839 - local: Created a new connection
2018-04-19 12:54:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:54:25  INFO local:839 - local: Created a new connection
2018-04-19 12:54:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:54:25  INFO local:839 - local: Created a new connection
2018-04-19 12:54:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:54:25  INFO local:839 - local: Created a new connection
2018-04-19 12:54:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:54:25  INFO local:839 - local: Created a new connection
2018-04-19 12:54:26  INFO log:178 - Logging initialized @1754ms
2018-04-19 12:54:26  INFO WebServer:74 - Start server...
2018-04-19 12:54:26  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@3313b960{/,null,null} contextPath ends with /*
2018-04-19 12:54:26  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:54:26  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@3313b960{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:54:26  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@3db9ceef{/,null,AVAILABLE}
2018-04-19 12:54:26  INFO ServerConnector:266 - Started ServerConnector@4159f985{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:54:26  INFO Server:350 - Started @1906ms
2018-04-19 12:54:27  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:54:27  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:54:27  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:54:27  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:54:27 ERROR ImportDBModel:2062 - ImportDBModel.buildInsertInvoiceDetailQuery: null
java.lang.NullPointerException
	at vpos.api.gateway.model.ImportDBModel.buildInsertInvoiceDetailQuery(ImportDBModel.java:1953)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:899)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:54:27 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Can not issue empty query.
java.sql.SQLException: Can not issue empty query.
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928)
	at com.mysql.jdbc.StatementImpl.checkNullOrEmptyQuery(StatementImpl.java:525)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1697)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 12:54:28  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 12:54:28  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 12:54:28  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 33, data = {"type":2,"msg":"","dt":{"machine_id":33,"exec_log_ids":"5,7,8"}}
2018-04-19 12:54:28  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:54:28  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5,7,8","machine_id":33,"store_code":"tructrac"}
2018-04-19 12:54:28  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:54:42  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 12:54:42  INFO ServerConnector:303 - Stopped ServerConnector@4159f985{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:54:42  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@3db9ceef{/,null,UNAVAILABLE}
2018-04-19 12:54:42  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@3313b960{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 12:56:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:01  INFO local:839 - local: Created a new connection
2018-04-19 12:56:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:01  INFO local:839 - local: Created a new connection
2018-04-19 12:56:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:01  INFO local:839 - local: Created a new connection
2018-04-19 12:56:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:02  INFO local:839 - local: Created a new connection
2018-04-19 12:56:02  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:02  INFO local:839 - local: Created a new connection
2018-04-19 12:56:02  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:02  INFO local:839 - local: Created a new connection
2018-04-19 12:56:02  INFO log:178 - Logging initialized @2028ms
2018-04-19 12:56:02  INFO WebServer:74 - Start server...
2018-04-19 12:56:02  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 12:56:02  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:56:02  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:56:02  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@534c780f{/,null,AVAILABLE}
2018-04-19 12:56:02  INFO ServerConnector:266 - Started ServerConnector@34d24d56{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:56:02  INFO Server:350 - Started @2292ms
2018-04-19 12:56:03  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:56:03  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:56:03  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:56:03  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:56:13  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:14  INFO local:839 - local: Created a new connection
2018-04-19 12:56:14  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:14  INFO local:839 - local: Created a new connection
2018-04-19 12:56:14  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:14  INFO local:839 - local: Created a new connection
2018-04-19 12:56:14  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:14  INFO local:839 - local: Created a new connection
2018-04-19 12:56:14  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:14  INFO local:839 - local: Created a new connection
2018-04-19 12:56:14  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:14  INFO local:839 - local: Created a new connection
2018-04-19 12:56:15  INFO log:178 - Logging initialized @1843ms
2018-04-19 12:56:15  INFO WebServer:74 - Start server...
2018-04-19 12:56:15  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@4cfaa332{/,null,null} contextPath ends with /*
2018-04-19 12:56:15  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:56:15  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@4cfaa332{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:56:15  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@643fce07{/,null,AVAILABLE}
2018-04-19 12:56:15  INFO ServerConnector:266 - Started ServerConnector@76c3a0d1{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:56:15  INFO Server:350 - Started @2108ms
2018-04-19 12:56:15  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:56:15  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:56:15  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:56:15  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:56:31  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:32  INFO local:839 - local: Created a new connection
2018-04-19 12:56:32  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:32  INFO local:839 - local: Created a new connection
2018-04-19 12:56:32  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:32  INFO local:839 - local: Created a new connection
2018-04-19 12:56:32  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:32  INFO local:839 - local: Created a new connection
2018-04-19 12:56:32  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:32  INFO local:839 - local: Created a new connection
2018-04-19 12:56:32  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:56:32  INFO local:839 - local: Created a new connection
2018-04-19 12:56:33  INFO log:178 - Logging initialized @1910ms
2018-04-19 12:56:33  INFO WebServer:74 - Start server...
2018-04-19 12:56:33  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 12:56:33  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:56:33  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:56:33  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@347c924c{/,null,AVAILABLE}
2018-04-19 12:56:33  INFO ServerConnector:266 - Started ServerConnector@189af4ef{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:56:33  INFO Server:350 - Started @2078ms
2018-04-19 12:56:33  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:56:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:56:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:56:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:57:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:57:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:57:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:57:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:57:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 12:58:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:58:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:58:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:58:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:58:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 12:58:20  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:21  INFO local:839 - local: Created a new connection
2018-04-19 12:58:21  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:21  INFO local:839 - local: Created a new connection
2018-04-19 12:58:21  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:21  INFO local:839 - local: Created a new connection
2018-04-19 12:58:21  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:21  INFO local:839 - local: Created a new connection
2018-04-19 12:58:21  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:21  INFO local:839 - local: Created a new connection
2018-04-19 12:58:21  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:21  INFO local:839 - local: Created a new connection
2018-04-19 12:58:22  INFO log:178 - Logging initialized @2337ms
2018-04-19 12:58:22  INFO WebServer:74 - Start server...
2018-04-19 12:58:22  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@6047fba8{/,null,null} contextPath ends with /*
2018-04-19 12:58:22  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:58:22  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@6047fba8{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:58:22  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@2f498676{/,null,AVAILABLE}
2018-04-19 12:58:22  WARN AbstractLifeCycle:210 - FAILED ServerConnector@281fd3c8{HTTP/1.1}{0.0.0.0:7901}: java.net.BindException: Address already in use
java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:279)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:218)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.server.Server.doStart(Server.java:337)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at vpos.api.gateway.server.WebServer.run(WebServer.java:119)
	at java.lang.Thread.run(Thread.java:748)
2018-04-19 12:58:22  WARN AbstractLifeCycle:210 - FAILED org.eclipse.jetty.server.Server@7bc89f18: java.net.BindException: Address already in use
java.net.BindException: Address already in use
	at sun.nio.ch.Net.bind0(Native Method)
	at sun.nio.ch.Net.bind(Net.java:433)
	at sun.nio.ch.Net.bind(Net.java:425)
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)
	at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:279)
	at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:80)
	at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:218)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at org.eclipse.jetty.server.Server.doStart(Server.java:337)
	at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)
	at vpos.api.gateway.server.WebServer.run(WebServer.java:119)
	at java.lang.Thread.run(Thread.java:748)
2018-04-19 12:58:22 ERROR WebServer:122 - Cannot start web server: Address already in use
2018-04-19 12:58:22  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 12:58:22  INFO ServerConnector:303 - Stopped ServerConnector@281fd3c8{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:58:22  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@2f498676{/,null,UNAVAILABLE}
2018-04-19 12:58:22  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@6047fba8{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 12:58:27  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 12:58:27  INFO ServerConnector:303 - Stopped ServerConnector@189af4ef{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:58:27  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@347c924c{/,null,UNAVAILABLE}
2018-04-19 12:58:27  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 12:58:30  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:31  INFO local:839 - local: Created a new connection
2018-04-19 12:58:31  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:31  INFO local:839 - local: Created a new connection
2018-04-19 12:58:31  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:31  INFO local:839 - local: Created a new connection
2018-04-19 12:58:31  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:31  INFO local:839 - local: Created a new connection
2018-04-19 12:58:31  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:31  INFO local:839 - local: Created a new connection
2018-04-19 12:58:31  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 12:58:31  INFO local:839 - local: Created a new connection
2018-04-19 12:58:32  INFO log:178 - Logging initialized @2034ms
2018-04-19 12:58:32  INFO WebServer:74 - Start server...
2018-04-19 12:58:32  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 12:58:32  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 12:58:32  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 12:58:32  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@b8b29a6{/,null,AVAILABLE}
2018-04-19 12:58:32  INFO ServerConnector:266 - Started ServerConnector@2a4b2d35{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 12:58:32  INFO Server:350 - Started @2212ms
2018-04-19 12:58:33  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 12:58:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:58:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:58:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:59:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 12:59:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 12:59:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 12:59:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 12:59:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:00:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:00:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:00:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:00:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:00:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:01:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:01:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:01:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:01:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:01:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:01:31  INFO local:839 - local: Destroyed connection
2018-04-19 13:01:36  INFO local:839 - local: Destroyed connection
2018-04-19 13:01:36  INFO local:839 - local: Destroyed connection
2018-04-19 13:02:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:02:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:02:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:02:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:02:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:03:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:03:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:03:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:03:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:03:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:03:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:27  INFO local:839 - local: Created a new connection
2018-04-19 13:03:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:27  INFO local:839 - local: Created a new connection
2018-04-19 13:03:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:27  INFO local:839 - local: Created a new connection
2018-04-19 13:03:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:27  INFO local:839 - local: Created a new connection
2018-04-19 13:03:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:27  INFO local:839 - local: Created a new connection
2018-04-19 13:03:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:27  INFO local:839 - local: Created a new connection
2018-04-19 13:03:28  INFO log:178 - Logging initialized @2249ms
2018-04-19 13:03:28  INFO WebServer:74 - Start server...
2018-04-19 13:03:28  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 13:03:28  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:03:28  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:03:28  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@534c780f{/,null,AVAILABLE}
2018-04-19 13:03:28  INFO ServerConnector:266 - Started ServerConnector@34d24d56{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:03:28  INFO Server:350 - Started @2460ms
2018-04-19 13:03:58  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:58  INFO local:839 - local: Created a new connection
2018-04-19 13:03:58  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:59  INFO local:839 - local: Created a new connection
2018-04-19 13:03:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:59  INFO local:839 - local: Created a new connection
2018-04-19 13:03:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:59  INFO local:839 - local: Created a new connection
2018-04-19 13:03:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:59  INFO local:839 - local: Created a new connection
2018-04-19 13:03:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:03:59  INFO local:839 - local: Created a new connection
2018-04-19 13:04:00  INFO log:178 - Logging initialized @1918ms
2018-04-19 13:04:00  INFO WebServer:74 - Start server...
2018-04-19 13:04:00  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@25eb45a2{/,null,null} contextPath ends with /*
2018-04-19 13:04:00  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:04:00  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@25eb45a2{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:04:00  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@58137612{/,null,AVAILABLE}
2018-04-19 13:04:00  INFO ServerConnector:266 - Started ServerConnector@35a9df35{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:04:00  INFO Server:350 - Started @2086ms
2018-04-19 13:04:00  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 13:04:00  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:04:00  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:04:00  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:04:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:04:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:04:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:04:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:04:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:04:40  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:04:41  INFO local:839 - local: Created a new connection
2018-04-19 13:04:41  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:04:41  INFO local:839 - local: Created a new connection
2018-04-19 13:04:41  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:04:41  INFO local:839 - local: Created a new connection
2018-04-19 13:04:41  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:04:41  INFO local:839 - local: Created a new connection
2018-04-19 13:04:41  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:04:41  INFO local:839 - local: Created a new connection
2018-04-19 13:04:41  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:04:41  INFO local:839 - local: Created a new connection
2018-04-19 13:04:42  INFO log:178 - Logging initialized @1952ms
2018-04-19 13:04:42  INFO WebServer:74 - Start server...
2018-04-19 13:04:42  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 13:04:42  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:04:42  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:04:42  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@347c924c{/,null,AVAILABLE}
2018-04-19 13:04:42  INFO ServerConnector:266 - Started ServerConnector@189af4ef{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:04:42  INFO Server:350 - Started @2135ms
2018-04-19 13:04:42  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 13:04:42  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:04:42  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:04:42  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:05:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:05:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:05:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:05:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:05:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:05:51  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:05:51  INFO local:839 - local: Created a new connection
2018-04-19 13:05:51  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:05:51  INFO local:839 - local: Created a new connection
2018-04-19 13:05:51  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:05:52  INFO local:839 - local: Created a new connection
2018-04-19 13:05:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:05:52  INFO local:839 - local: Created a new connection
2018-04-19 13:05:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:05:52  INFO local:839 - local: Created a new connection
2018-04-19 13:05:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:05:52  INFO local:839 - local: Created a new connection
2018-04-19 13:05:53  INFO log:178 - Logging initialized @2685ms
2018-04-19 13:05:53  INFO WebServer:74 - Start server...
2018-04-19 13:05:53  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 13:05:53  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:05:53  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:05:53  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@b8b29a6{/,null,AVAILABLE}
2018-04-19 13:05:53  INFO ServerConnector:266 - Started ServerConnector@2a4b2d35{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:05:53  INFO Server:350 - Started @2884ms
2018-04-19 13:05:54  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 13:05:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:05:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:05:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:06:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:06:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:06:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:06:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:06:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524117093402"}],"invoice_date":"180419"}}
2018-04-19 13:07:24  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:07:24  INFO local:839 - local: Created a new connection
2018-04-19 13:07:24  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:07:24  INFO local:839 - local: Created a new connection
2018-04-19 13:07:24  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:07:25  INFO local:839 - local: Created a new connection
2018-04-19 13:07:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:07:25  INFO local:839 - local: Created a new connection
2018-04-19 13:07:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:07:25  INFO local:839 - local: Created a new connection
2018-04-19 13:07:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:07:25  INFO local:839 - local: Created a new connection
2018-04-19 13:07:26  INFO log:178 - Logging initialized @2318ms
2018-04-19 13:07:26  INFO WebServer:74 - Start server...
2018-04-19 13:07:26  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 13:07:26  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:07:26  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:07:26  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@50fb2c50{/,null,AVAILABLE}
2018-04-19 13:07:26  INFO ServerConnector:266 - Started ServerConnector@39418c4f{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:07:26  INFO Server:350 - Started @2503ms
2018-04-19 13:07:27  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 13:07:27  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:07:27  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:07:27  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:08:15  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:16  INFO local:839 - local: Created a new connection
2018-04-19 13:08:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:16  INFO local:839 - local: Created a new connection
2018-04-19 13:08:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:16  INFO local:839 - local: Created a new connection
2018-04-19 13:08:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:16  INFO local:839 - local: Created a new connection
2018-04-19 13:08:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:16  INFO local:839 - local: Created a new connection
2018-04-19 13:08:16  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:16  INFO local:839 - local: Created a new connection
2018-04-19 13:08:17  INFO log:178 - Logging initialized @1817ms
2018-04-19 13:08:17  INFO WebServer:74 - Start server...
2018-04-19 13:08:17  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 13:08:17  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:08:17  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:08:17  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@b8b29a6{/,null,AVAILABLE}
2018-04-19 13:08:17  INFO ServerConnector:266 - Started ServerConnector@29d4da97{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:08:17  INFO Server:350 - Started @1982ms
2018-04-19 13:08:18  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 13:08:18  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:08:18  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:08:18  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:08:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:52  INFO local:839 - local: Created a new connection
2018-04-19 13:08:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:52  INFO local:839 - local: Created a new connection
2018-04-19 13:08:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:52  INFO local:839 - local: Created a new connection
2018-04-19 13:08:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:53  INFO local:839 - local: Created a new connection
2018-04-19 13:08:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:53  INFO local:839 - local: Created a new connection
2018-04-19 13:08:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:08:53  INFO local:839 - local: Created a new connection
2018-04-19 13:08:53  INFO log:178 - Logging initialized @2066ms
2018-04-19 13:08:53  INFO WebServer:74 - Start server...
2018-04-19 13:08:53  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@6047fba8{/,null,null} contextPath ends with /*
2018-04-19 13:08:53  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:08:53  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@6047fba8{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:08:53  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@24003494{/,null,AVAILABLE}
2018-04-19 13:08:53  INFO ServerConnector:266 - Started ServerConnector@26d4f6d4{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:08:53  INFO Server:350 - Started @2238ms
2018-04-19 13:08:54  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 33, deviceId = 1a9384d77cc54c93bd5a0024501ab9cd
2018-04-19 13:08:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:08:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:08:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:09:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:09:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:09:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:09:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:09:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524118081636"}],"invoice_date":"180419"}}
2018-04-19 13:09:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190330003","1804190330004"],"store_code":"tructrac"}
2018-04-19 13:09:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190330003","table_id":2},{"invoice_code":"1804190330004","table_id":6}],"updated_invoices":[{"guest_info":"","note":"","amount":15000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":15000.00,"quantity":3.00,"order_date_time":"2018-04-19 11:44:09","item_id":3,"machine_id":33,"item_name":"choco \"pie\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190330003","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 11:44:09","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190330003","created_date_time":"2018-04-19 11:44:09","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":33,"checksum":1,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":5000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 11:52:17","item_id":3,"machine_id":33,"item_name":"choco \"pie\"","unit_price":5000,"invoice_detail_id":1,"invoice_code":"1804190330004","order_status":0,"staff_id":1,"local_invoice_detail_id":2}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 11:52:17","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190330004","created_date_time":"2018-04-19 11:52:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":33,"checksum":1,"invoice_id":2,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524118081636"}}
2018-04-19 13:10:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:10:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:10:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:10:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:10:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524118081636"}],"invoice_date":"180419"}}
2018-04-19 13:10:58 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '1-33' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-33' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:10:59  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:11:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:11:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:11:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:11:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:11:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524118081636"}],"invoice_date":"180419"}}
2018-04-19 13:11:57  INFO local:839 - local: Destroyed connection
2018-04-19 13:11:57  INFO local:839 - local: Destroyed connection
2018-04-19 13:11:57  INFO local:839 - local: Destroyed connection
2018-04-19 13:12:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:12:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:12:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (6, 33, 2, 'invoice_detail', '1804190330003', 1, '{\"amount\":15000,\"invoice_code\":\"1804190330003\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":33,\"note\":\"\",\"order_date_time\":\"2018-04-19 11:44:09\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:12:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:12:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524111249581"},{"name":"last_update_item_option_detail","id":6,"value":"1524111249035"},{"name":"last_update_item_relation_detail","id":7,"value":"1524111249035"},{"name":"last_update_item_time","id":8,"value":"1524111249035"},{"name":"last_update_invoice","id":9,"value":"1524118081636"}],"invoice_date":"180419"}}
2018-04-19 13:16:42  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:16:43  INFO local:839 - local: Created a new connection
2018-04-19 13:16:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:16:43  INFO local:839 - local: Created a new connection
2018-04-19 13:16:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:16:43  INFO local:839 - local: Created a new connection
2018-04-19 13:16:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:16:43  INFO local:839 - local: Created a new connection
2018-04-19 13:16:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:16:43  INFO local:839 - local: Created a new connection
2018-04-19 13:16:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:16:43  INFO local:839 - local: Created a new connection
2018-04-19 13:16:44  INFO log:178 - Logging initialized @2024ms
2018-04-19 13:16:44  INFO WebServer:74 - Start server...
2018-04-19 13:16:44  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 13:16:44  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:16:44  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:16:44  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@534c780f{/,null,AVAILABLE}
2018-04-19 13:16:44  INFO ServerConnector:266 - Started ServerConnector@60bbea0c{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:16:44  INFO Server:350 - Started @2203ms
2018-04-19 13:16:54  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:16:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:16:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524118081636"}],"invoice_date":"180419"}}
2018-04-19 13:17:03  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:17:03  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (1, 34, 2, 'invoice', '1804190340001', 1, '{\"amount\":15000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:17:03\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340001\",\"invoice_no\":1,\"local_invoice_id`\":1,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:17:03\",\"payment_status\":1,\"table_id\":2}', 1), (2, 34, 2, 'invoice_detail', '1804190340001', 1, '{\"amount\":15000,\"invoice_code\":\"1804190340001\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:17:03\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:17:03  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:17:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:17:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:17:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (1, 34, 2, 'invoice', '1804190340001', 1, '{\"amount\":15000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:17:03\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340001\",\"invoice_no\":1,\"local_invoice_id`\":1,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:17:03\",\"payment_status\":1,\"table_id\":2}', 1), (2, 34, 2, 'invoice_detail', '1804190340001', 1, '{\"amount\":15000,\"invoice_code\":\"1804190340001\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":1,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:17:03\",\"order_status\":0,\"original_price\":5000,\"quantity\":3,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:17:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:17:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524118081636"}],"invoice_date":"180419"}}
2018-04-19 13:18:07 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '1-34' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-34' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:18:07  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:18:07  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:18:07  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340001"],"store_code":"tructrac"}
2018-04-19 13:18:07  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:18:07  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"1,2"}}
2018-04-19 13:18:07  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:18:07  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"1,2","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:18:07  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:18:09  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340001","table_id":2}],"updated_invoices":[{"guest_info":"","note":"","amount":15000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":15000.00,"quantity":3.00,"order_date_time":"2018-04-19 13:17:03","item_id":3,"machine_id":34,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":1,"invoice_code":"1804190340001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 13:17:03","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190340001","created_date_time":"2018-04-19 13:17:03","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":1,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524118687531"}}
2018-04-19 13:18:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:18:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524118687531"}],"invoice_date":"180419"}}
2018-04-19 13:19:43  INFO local:839 - local: Destroyed connection
2018-04-19 13:19:48  INFO local:839 - local: Destroyed connection
2018-04-19 13:19:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:19:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524118687531"}],"invoice_date":"180419"}}
2018-04-19 13:21:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:21:27  INFO local:839 - local: Created a new connection
2018-04-19 13:21:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:21:27  INFO local:839 - local: Created a new connection
2018-04-19 13:21:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:21:27  INFO local:839 - local: Created a new connection
2018-04-19 13:21:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:21:27  INFO local:839 - local: Created a new connection
2018-04-19 13:21:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:21:27  INFO local:839 - local: Created a new connection
2018-04-19 13:21:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:21:27  INFO local:839 - local: Created a new connection
2018-04-19 13:21:28  INFO log:178 - Logging initialized @1925ms
2018-04-19 13:21:28  INFO WebServer:74 - Start server...
2018-04-19 13:21:28  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 13:21:28  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:21:28  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:21:28  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@347c924c{/,null,AVAILABLE}
2018-04-19 13:21:28  INFO ServerConnector:266 - Started ServerConnector@36abda81{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:21:28  INFO Server:350 - Started @2080ms
2018-04-19 13:21:30  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:21:50  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:21:50  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:21:50  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:21:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:21:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:21:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:21:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:21:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524118687531"}],"invoice_date":"180419"}}
2018-04-19 13:22:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:22:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:22:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:22:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:22:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524118921803"}],"invoice_date":"180419"}}
2018-04-19 13:22:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340001","1804190340002"],"store_code":"tructrac"}
2018-04-19 13:22:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340001","table_id":2},{"invoice_code":"1804190340002","table_id":3}],"updated_invoices":[{"guest_info":"","note":"","amount":15000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":15000.00,"quantity":3.00,"order_date_time":"2018-04-19 13:17:03","item_id":3,"machine_id":34,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":1,"invoice_code":"1804190340001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 13:17:03","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190340001","created_date_time":"2018-04-19 13:17:03","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"ghi \"chu\" ","amount":20000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":20000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:21:50","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":3,"invoice_code":"1804190340002","order_status":0,"staff_id":1,"local_invoice_detail_id":2}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 13:21:50","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190340002","created_date_time":"2018-04-19 13:21:50","expected_amount":0.00,"guest_number":1,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":2,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524118921803"}}
2018-04-19 13:27:02  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:03  INFO local:839 - local: Created a new connection
2018-04-19 13:27:03  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:03  INFO local:839 - local: Created a new connection
2018-04-19 13:27:03  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:03  INFO local:839 - local: Created a new connection
2018-04-19 13:27:03  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:03  INFO local:839 - local: Created a new connection
2018-04-19 13:27:03  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:03  INFO local:839 - local: Created a new connection
2018-04-19 13:27:03  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:03  INFO local:839 - local: Created a new connection
2018-04-19 13:27:04  INFO log:178 - Logging initialized @1986ms
2018-04-19 13:27:04  INFO WebServer:74 - Start server...
2018-04-19 13:27:04  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 13:27:04  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:27:04  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:27:04  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@5d203f8d{/,null,AVAILABLE}
2018-04-19 13:27:04  INFO ServerConnector:266 - Started ServerConnector@686739a{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:27:04  INFO Server:350 - Started @2200ms
2018-04-19 13:27:06  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:27:06  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:27:06  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:27:06  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:27:20 ERROR ImportDBModel:809 - ImportDBModeltructrac.insertToInvoiceAndUpdateLogStatus: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'chu" ")' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'chu" ")' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1062)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceAndUpdateLogStatus(ImportDBModel.java:793)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:312)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:27:35  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:36  INFO local:839 - local: Created a new connection
2018-04-19 13:27:36  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:36  INFO local:839 - local: Created a new connection
2018-04-19 13:27:36  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:36  INFO local:839 - local: Created a new connection
2018-04-19 13:27:36  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:36  INFO local:839 - local: Created a new connection
2018-04-19 13:27:36  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:36  INFO local:839 - local: Created a new connection
2018-04-19 13:27:36  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:27:36  INFO local:839 - local: Created a new connection
2018-04-19 13:27:37  INFO log:178 - Logging initialized @1829ms
2018-04-19 13:27:37  INFO WebServer:74 - Start server...
2018-04-19 13:27:37  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 13:27:37  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:27:37  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:27:37  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@7196358a{/,null,AVAILABLE}
2018-04-19 13:27:37  INFO ServerConnector:266 - Started ServerConnector@18891fd5{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:27:37  INFO Server:350 - Started @1992ms
2018-04-19 13:27:39  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:27:39  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:27:39  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:27:39  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:27:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:27:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:27:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:27:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:27:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524118921803"}],"invoice_date":"180419"}}
2018-04-19 13:28:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:28:27  INFO local:839 - local: Created a new connection
2018-04-19 13:28:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:28:28  INFO local:839 - local: Created a new connection
2018-04-19 13:28:28  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:28:28  INFO local:839 - local: Created a new connection
2018-04-19 13:28:28  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:28:28  INFO local:839 - local: Created a new connection
2018-04-19 13:28:28  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:28:28  INFO local:839 - local: Created a new connection
2018-04-19 13:28:28  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:28:28  INFO local:839 - local: Created a new connection
2018-04-19 13:28:28  INFO log:178 - Logging initialized @1844ms
2018-04-19 13:28:28  INFO WebServer:74 - Start server...
2018-04-19 13:28:28  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 13:28:28  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:28:29  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:28:29  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@5d203f8d{/,null,AVAILABLE}
2018-04-19 13:28:29  INFO ServerConnector:266 - Started ServerConnector@635b5638{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:28:29  INFO Server:350 - Started @2002ms
2018-04-19 13:28:30  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:28:30  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:28:30  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:28:30  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:28:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:28:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:28:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:28:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:28:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:28:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340001","1804190340002"],"store_code":"tructrac"}
2018-04-19 13:28:55  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340002","table_id":3}],"updated_invoices":[{"guest_info":"","note":"ghi \"chu\" ","amount":20000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":20000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:21:50","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190340002","order_status":0,"staff_id":1,"local_invoice_detail_id":2}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 13:21:50","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190340002","created_date_time":"2018-04-19 13:21:50","expected_amount":0.00,"guest_number":1,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":1,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524119281702"}}
2018-04-19 13:29:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:29:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:29:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:29:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:29:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:30:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:30:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:30:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:30:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:30:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:31:28  INFO local:839 - local: Destroyed connection
2018-04-19 13:31:33  INFO local:839 - local: Destroyed connection
2018-04-19 13:31:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:31:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:31:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:31:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:31:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:32:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:32:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:32:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:32:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:32:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:33:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:33:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:33:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:33:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:33:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:34:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:34:00  INFO local:839 - local: Created a new connection
2018-04-19 13:34:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:34:01  INFO local:839 - local: Created a new connection
2018-04-19 13:34:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:34:01  INFO local:839 - local: Created a new connection
2018-04-19 13:34:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:34:01  INFO local:839 - local: Created a new connection
2018-04-19 13:34:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:34:01  INFO local:839 - local: Created a new connection
2018-04-19 13:34:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:34:01  INFO local:839 - local: Created a new connection
2018-04-19 13:34:01  INFO log:178 - Logging initialized @1939ms
2018-04-19 13:34:01  INFO WebServer:74 - Start server...
2018-04-19 13:34:02  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 13:34:02  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:34:02  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:34:02  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@7196358a{/,null,AVAILABLE}
2018-04-19 13:34:02  INFO ServerConnector:266 - Started ServerConnector@18891fd5{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:34:02  INFO Server:350 - Started @2230ms
2018-04-19 13:34:03  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:34:03  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:34:03  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:34:03  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:34:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:34:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:34:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:34:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:34:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:35:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:35:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:35:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:35:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:35:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:36:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:36:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:36:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:36:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:36:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:37:01  INFO local:839 - local: Destroyed connection
2018-04-19 13:37:06  INFO local:839 - local: Destroyed connection
2018-04-19 13:37:06  INFO local:839 - local: Destroyed connection
2018-04-19 13:37:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:37:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:37:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:37:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:37:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:38:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:38:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:38:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:38:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:38:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:43:32  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:43:33  INFO local:839 - local: Created a new connection
2018-04-19 13:43:33  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:43:33  INFO local:839 - local: Created a new connection
2018-04-19 13:43:33  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:43:33  INFO local:839 - local: Created a new connection
2018-04-19 13:43:33  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:43:33  INFO local:839 - local: Created a new connection
2018-04-19 13:43:33  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:43:33  INFO local:839 - local: Created a new connection
2018-04-19 13:43:33  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:43:33  INFO local:839 - local: Created a new connection
2018-04-19 13:43:34  INFO log:178 - Logging initialized @1866ms
2018-04-19 13:43:34  INFO WebServer:74 - Start server...
2018-04-19 13:43:34  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@28214ea0{/,null,null} contextPath ends with /*
2018-04-19 13:43:34  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:43:34  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@28214ea0{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:43:34  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@147b910a{/,null,AVAILABLE}
2018-04-19 13:43:34  INFO ServerConnector:266 - Started ServerConnector@6c3d53f3{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:43:34  INFO Server:350 - Started @2014ms
2018-04-19 13:43:36  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:43:36  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:43:36  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 34, 3, 'invoice', '1804190340002', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:21:50\",\"guest_info\":\"\",\"guest_number\":1,\"invoice_code\":\"1804190340002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"ghi \\\"chu\\\" \",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:21:50\",\"payment_status\":1,\"table_id\":3}', 1), (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:43:36  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:43:37 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:43:38  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:43:38  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:43:38  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"3"}}
2018-04-19 13:43:38  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:43:38  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"3","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:43:38  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:43:48  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:43:48  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1), (5, 34, 2, 'invoice', '1804190340001', 4, '{\"checksum\":2,\"invoice_code\":\"1804190340001\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:43:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 13:43:48  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:43:50 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:43:52  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:43:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:43:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:43:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1), (5, 34, 2, 'invoice', '1804190340001', 4, '{\"checksum\":2,\"invoice_code\":\"1804190340001\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:43:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 13:43:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:43:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524119281702"}],"invoice_date":"180419"}}
2018-04-19 13:43:57 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:43:58  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:44:04  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:44:04  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (4, 34, 3, 'invoice_detail', '1804190340002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340002\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":2,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:21:50\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1), (5, 34, 2, 'invoice', '1804190340001', 4, '{\"checksum\":2,\"invoice_code\":\"1804190340001\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:43:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (6, 34, 3, 'invoice', '1804190340002', 4, '{\"checksum\":2,\"invoice_code\":\"1804190340002\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:44:03\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 13:44:04  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:44:04 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:44:07 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '2-34' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:44:09  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:44:09  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:44:09  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 13:44:09  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:44:09  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"6"}}
2018-04-19 13:44:09  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120249043"}}
2018-04-19 13:44:10  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:44:10  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"6","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:44:10  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:44:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:44:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120249043"}],"invoice_date":"180419"}}
2018-04-19 13:45:00  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:45:00  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (7, 34, 6, 'invoice', '1804190340003', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:45:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340003\",\"invoice_no\":3,\"local_invoice_id`\":3,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:45:00\",\"payment_status\":1,\"table_id\":6}', 1), (8, 34, 6, 'invoice_detail', '1804190340003', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340003\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":3,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:45:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 13:45:00  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:45:05 ERROR ImportDBModel:932 - ImportDBModelstore_code: tructrac .insertInvoiceDetailAndUpdateLogStatus: Duplicate entry '3-34' for key 'local_invoice_detail_id_machine_id'
com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '3-34' for key 'local_invoice_detail_id_machine_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1049)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceDetailAndUpdateLogStatus(ImportDBModel.java:906)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:341)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 13:45:08  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:45:08  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:45:08  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"7,8"}}
2018-04-19 13:45:08  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:45:08  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"7,8","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:45:08  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:45:08  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"7,8"}}
2018-04-19 13:45:08  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:45:08  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"7,8","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:45:08  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:45:28  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:45:28  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (9, 34, 6, 'invoice', '1804190340003', 2, '{\"amount\":80000,\"invoice_code\":\"1804190340003\"}', 1), (10, 34, 6, 'invoice_detail', '1804190340003', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340003\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":4,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:45:28\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1), (11, 34, 6, 'invoice_detail', '1804190340003', 1, '{\"amount\":60000,\"invoice_code\":\"1804190340003\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":5,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:45:28\",\"order_status\":0,\"original_price\":10000,\"quantity\":6,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 13:45:28  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:45:29  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:45:30  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:45:30  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340003"],"store_code":"tructrac"}
2018-04-19 13:45:30  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:45:30  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"9,10,11"}}
2018-04-19 13:45:30  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:45:30  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"9,10,11","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:45:30  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:45:30  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340003","table_id":6}],"updated_invoices":[{"guest_info":"","note":"","amount":110000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 13:45:00","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":23,"invoice_code":"1804190340003","order_status":0,"staff_id":1,"local_invoice_detail_id":3},{"original_price":20000,"note":"","amount":20000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:45:28","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":25,"invoice_code":"1804190340003","order_status":0,"staff_id":1,"local_invoice_detail_id":4},{"original_price":10000,"note":"","amount":60000.00,"quantity":6.00,"order_date_time":"2018-04-19 13:45:28","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":26,"invoice_code":"1804190340003","order_status":0,"staff_id":1,"local_invoice_detail_id":5}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 13:45:00","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190340003","created_date_time":"2018-04-19 13:45:00","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":2,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120329955"}}
2018-04-19 13:45:32  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:45:32  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (12, 34, 6, 'invoice', '1804190340003', 4, '{\"checksum\":3,\"invoice_code\":\"1804190340003\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:45:32\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 13:45:32  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:45:33  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:45:33  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:45:33  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 13:45:33  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:45:33  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"12"}}
2018-04-19 13:45:33  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120333088"}}
2018-04-19 13:45:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:45:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"12","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:45:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:45:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:45:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120333088"}],"invoice_date":"180419"}}
2018-04-19 13:46:33  INFO local:839 - local: Destroyed connection
2018-04-19 13:46:33  INFO local:839 - local: Destroyed connection
2018-04-19 13:46:38  INFO local:839 - local: Destroyed connection
2018-04-19 13:46:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:46:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120333088"}],"invoice_date":"180419"}}
2018-04-19 13:47:08  INFO local:839 - local: Destroyed connection
2018-04-19 13:47:14  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 13:47:14  INFO ServerConnector:303 - Stopped ServerConnector@6c3d53f3{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:47:14  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@147b910a{/,null,UNAVAILABLE}
2018-04-19 13:47:14  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@28214ea0{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 13:50:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:50:53  INFO local:839 - local: Created a new connection
2018-04-19 13:50:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:50:53  INFO local:839 - local: Created a new connection
2018-04-19 13:50:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:50:53  INFO local:839 - local: Created a new connection
2018-04-19 13:50:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:50:53  INFO local:839 - local: Created a new connection
2018-04-19 13:50:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:50:53  INFO local:839 - local: Created a new connection
2018-04-19 13:50:53  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 13:50:53  INFO local:839 - local: Created a new connection
2018-04-19 13:50:54  INFO log:178 - Logging initialized @1664ms
2018-04-19 13:50:54  INFO WebServer:74 - Start server...
2018-04-19 13:50:54  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@28214ea0{/,null,null} contextPath ends with /*
2018-04-19 13:50:54  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 13:50:54  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@28214ea0{/vpp/ntf,null,AVAILABLE}
2018-04-19 13:50:54  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@147b910a{/,null,AVAILABLE}
2018-04-19 13:50:54  INFO ServerConnector:266 - Started ServerConnector@6824633f{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 13:50:54  INFO Server:350 - Started @1795ms
2018-04-19 13:50:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:50:54  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 13:50:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120333088"}],"invoice_date":"180419"}}
2018-04-19 13:51:01  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:01  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (13, 34, 8, 'invoice', '1804190340004', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:51:01\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340004\",\"invoice_no\":4,\"local_invoice_id`\":4,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:51:01\",\"payment_status\":1,\"table_id\":8}', 1), (14, 34, 8, 'invoice_detail', '1804190340004', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340004\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":6,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:51:01\",\"order_status\":0,\"original_price\":10000,\"quantity\":2,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 13:51:01  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:02  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:51:02  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:51:02  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340004"],"store_code":"tructrac"}
2018-04-19 13:51:02  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:51:02  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"13,14"}}
2018-04-19 13:51:02  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340004","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":20000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:51:01","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":27,"invoice_code":"1804190340004","order_status":0,"staff_id":1,"local_invoice_detail_id":6}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 13:51:01","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340004","created_date_time":"2018-04-19 13:51:01","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120662312"}}
2018-04-19 13:51:02  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:02  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"13,14","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:51:02  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:06  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:06  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (15, 34, 8, 'invoice', '1804190340004', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340004\"}', 1), (16, 34, 8, 'invoice_detail', '1804190340004', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340004\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":7,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:51:06\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 13:51:06  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:07  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:51:07  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:51:07  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340004"],"store_code":"tructrac"}
2018-04-19 13:51:07  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:51:07  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"15,16"}}
2018-04-19 13:51:07  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340004","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:51:01","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":27,"invoice_code":"1804190340004","order_status":0,"staff_id":1,"local_invoice_detail_id":6},{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:51:06","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":28,"invoice_code":"1804190340004","order_status":0,"staff_id":1,"local_invoice_detail_id":7}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 13:51:01","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340004","created_date_time":"2018-04-19 13:51:01","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120667471"}}
2018-04-19 13:51:07  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:07  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"15,16","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:51:07  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:11  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:11  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (17, 34, 8, 'invoice', '1804190340004', 4, '{\"checksum\":3,\"invoice_code\":\"1804190340004\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:51:11\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 13:51:11  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:12  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:51:12  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:51:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 13:51:12  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:51:12  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"17"}}
2018-04-19 13:51:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120672285"}}
2018-04-19 13:51:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"17","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:51:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:28  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:28  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (18, 34, 8, 'invoice', '1804190340005', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:51:28\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340005\",\"invoice_no\":5,\"local_invoice_id`\":5,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:51:28\",\"payment_status\":1,\"table_id\":8}', 1), (19, 34, 8, 'invoice_detail', '1804190340005', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340005\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":8,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:51:28\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 13:51:28  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:31  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:51:31  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:51:31  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340005"],"store_code":"tructrac"}
2018-04-19 13:51:31  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:51:31  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"18,19"}}
2018-04-19 13:51:31  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340005","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":5000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:51:28","item_id":3,"machine_id":34,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":29,"invoice_code":"1804190340005","order_status":0,"staff_id":1,"local_invoice_detail_id":8}],"invoice_no":5,"payment_status":1,"payment_date_time":"2018-04-19 13:51:28","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340005","created_date_time":"2018-04-19 13:51:28","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":4,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120691182"}}
2018-04-19 13:51:31  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:31  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"18,19","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:51:31  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (20, 34, 8, 'invoice', '1804190340005', 2, '{\"amount\":20000,\"invoice_code\":\"1804190340005\"}', 1), (21, 34, 8, 'invoice_detail', '1804190340005', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340005\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":9,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:51:32\",\"order_status\":0,\"original_price\":20000,\"quantity\":1,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:51:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:34  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:51:34  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:51:34  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340005"],"store_code":"tructrac"}
2018-04-19 13:51:34  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:51:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"20,21"}}
2018-04-19 13:51:35  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340005","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:51:28","item_id":3,"machine_id":34,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":29,"invoice_code":"1804190340005","order_status":0,"staff_id":1,"local_invoice_detail_id":8},{"original_price":20000,"note":"","amount":20000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:51:32","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":30,"invoice_code":"1804190340005","order_status":0,"staff_id":1,"local_invoice_detail_id":9}],"invoice_no":5,"payment_status":1,"payment_date_time":"2018-04-19 13:51:28","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340005","created_date_time":"2018-04-19 13:51:28","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":4,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120694776"}}
2018-04-19 13:51:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"20,21","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:51:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:37  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:37  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (22, 34, 8, 'invoice', '1804190340005', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340005\"}', 1), (23, 34, 8, 'invoice_detail', '1804190340005', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340005\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":10,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:51:37\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 13:51:37  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:38  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:51:39  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:51:39  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340005"],"store_code":"tructrac"}
2018-04-19 13:51:39  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340005","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":35000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:51:28","item_id":3,"machine_id":34,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":29,"invoice_code":"1804190340005","order_status":0,"staff_id":1,"local_invoice_detail_id":8},{"original_price":20000,"note":"","amount":20000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:51:32","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":30,"invoice_code":"1804190340005","order_status":0,"staff_id":1,"local_invoice_detail_id":9},{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 13:51:37","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":31,"invoice_code":"1804190340005","order_status":0,"staff_id":1,"local_invoice_detail_id":10}],"invoice_no":5,"payment_status":1,"payment_date_time":"2018-04-19 13:51:28","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340005","created_date_time":"2018-04-19 13:51:28","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":3,"invoice_id":4,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120698626"}}
2018-04-19 13:51:39  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:51:39  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"22,23"}}
2018-04-19 13:51:39  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:39  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"22,23","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:51:39  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:41  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:41  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (24, 34, 8, 'invoice', '1804190340005', 4, '{\"checksum\":4,\"invoice_code\":\"1804190340005\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:51:41\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 13:51:41  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:42  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:51:42  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:51:42  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 13:51:42  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:51:42  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"24"}}
2018-04-19 13:51:42  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120702607"}}
2018-04-19 13:51:43  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:51:43  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"24","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:51:43  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:51:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:51:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120702607"}],"invoice_date":"180419"}}
2018-04-19 13:52:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:52:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (25, 34, 6, 'invoice', '1804190340006', 1, '{\"amount\":40000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:52:16\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340006\",\"invoice_no\":6,\"local_invoice_id`\":6,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:52:16\",\"payment_status\":1,\"table_id\":6}', 1), (26, 34, 6, 'invoice_detail', '1804190340006', 1, '{\"amount\":40000,\"invoice_code\":\"1804190340006\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":11,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:52:16\",\"order_status\":0,\"original_price\":20000,\"quantity\":2,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:52:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:52:17  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:52:18  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:52:18  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340006"],"store_code":"tructrac"}
2018-04-19 13:52:18  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:52:18  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"25,26"}}
2018-04-19 13:52:18  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340006","table_id":6}],"updated_invoices":[{"guest_info":"","note":"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:52:16","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":32,"invoice_code":"1804190340006","order_status":0,"staff_id":1,"local_invoice_detail_id":11}],"invoice_no":6,"payment_status":1,"payment_date_time":"2018-04-19 13:52:16","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190340006","created_date_time":"2018-04-19 13:52:16","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":5,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120737573"}}
2018-04-19 13:52:18  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:52:18  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"25,26","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:52:18  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:52:38  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:52:38  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (27, 34, 6, 'invoice', '1804190340006', 2, '{\"checksum\":2,\"guest_number\":0,\"invoice_code\":\"1804190340006\",\"note\":\"GH\\\"I\\\"\\\" chu\\\"\\\"\\\"c\\\"\\\"\"}', 1)"}
2018-04-19 13:52:38  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:52:40  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:52:40  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:52:40  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340006"],"store_code":"tructrac"}
2018-04-19 13:52:40  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:52:40  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"27"}}
2018-04-19 13:52:40  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340006","table_id":6}],"updated_invoices":[{"guest_info":"","note":"\"GH\"I\"\" chu\"\"\"c\"\"\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:52:16","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":32,"invoice_code":"1804190340006","order_status":0,"staff_id":1,"local_invoice_detail_id":11}],"invoice_no":6,"payment_status":1,"payment_date_time":"2018-04-19 13:52:16","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190340006","created_date_time":"2018-04-19 13:52:16","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":5,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120760183"}}
2018-04-19 13:52:40  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:52:40  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"27","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:52:40  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:52:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:52:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120760183"}],"invoice_date":"180419"}}
2018-04-19 13:53:53  INFO local:839 - local: Destroyed connection
2018-04-19 13:53:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:53:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120760183"}],"invoice_date":"180419"}}
2018-04-19 13:53:58  INFO local:839 - local: Destroyed connection
2018-04-19 13:53:58  INFO local:839 - local: Destroyed connection
2018-04-19 13:53:58  INFO local:839 - local: Destroyed connection
2018-04-19 13:54:21  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:54:21  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (28, 34, 6, 'invoice', '1804190340006', 4, '{\"checksum\":3,\"invoice_code\":\"1804190340006\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:54:21\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 13:54:21  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:54:22  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:54:22  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:54:22  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 13:54:22  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:54:22  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"28"}}
2018-04-19 13:54:22  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120862446"}}
2018-04-19 13:54:22  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:54:22  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"28","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:54:22  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:54:37  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:54:37  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (29, 34, 8, 'invoice', '1804190340007', 1, '{\"amount\":20000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:54:37\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340007\",\"invoice_no\":7,\"local_invoice_id`\":7,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:54:37\",\"payment_status\":1,\"table_id\":8}', 1), (30, 34, 8, 'invoice_detail', '1804190340007', 1, '{\"amount\":20000,\"invoice_code\":\"1804190340007\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":12,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:54:37\",\"order_status\":0,\"original_price\":10000,\"quantity\":2,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 13:54:37  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:54:38  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:54:38  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:54:38  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340007"],"store_code":"tructrac"}
2018-04-19 13:54:38  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:54:38  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"29,30"}}
2018-04-19 13:54:38  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340007","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":20000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:54:37","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":33,"invoice_code":"1804190340007","order_status":0,"staff_id":1,"local_invoice_detail_id":12}],"invoice_no":7,"payment_status":1,"payment_date_time":"2018-04-19 13:54:37","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340007","created_date_time":"2018-04-19 13:54:37","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":6,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120878491"}}
2018-04-19 13:54:38  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:54:38  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"29,30","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:54:38  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:54:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:54:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120878491"}],"invoice_date":"180419"}}
2018-04-19 13:55:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:55:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (31, 34, 8, 'invoice', '1804190340007', 2, '{\"checksum\":2,\"guest_number\":0,\"invoice_code\":\"1804190340007\",\"note\":\"a\"}', 1)"}
2018-04-19 13:55:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:55:13  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:55:14  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:55:14  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340007"],"store_code":"tructrac"}
2018-04-19 13:55:14  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:55:14  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"31"}}
2018-04-19 13:55:14  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340007","table_id":8}],"updated_invoices":[{"guest_info":"","note":"\"a\"","amount":20000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:54:37","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":33,"invoice_code":"1804190340007","order_status":0,"staff_id":1,"local_invoice_detail_id":12}],"invoice_no":7,"payment_status":1,"payment_date_time":"2018-04-19 13:54:37","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340007","created_date_time":"2018-04-19 13:54:37","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":6,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120913642"}}
2018-04-19 13:55:14  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:55:14  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"31","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:55:14  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:55:24  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:55:24  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (32, 34, 8, 'invoice', '1804190340007', 2, '{\"checksum\":3,\"guest_number\":0,\"invoice_code\":\"1804190340007\",\"note\":\"\\\"a\\\"a\"}', 1)"}
2018-04-19 13:55:24  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:55:25  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:55:25  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:55:25  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340007"],"store_code":"tructrac"}
2018-04-19 13:55:25  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:55:25  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"32"}}
2018-04-19 13:55:25  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340007","table_id":8}],"updated_invoices":[{"guest_info":"","note":"\"\"a\"a\"","amount":20000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:54:37","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":33,"invoice_code":"1804190340007","order_status":0,"staff_id":1,"local_invoice_detail_id":12}],"invoice_no":7,"payment_status":1,"payment_date_time":"2018-04-19 13:54:37","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340007","created_date_time":"2018-04-19 13:54:37","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":3,"invoice_id":6,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120925087"}}
2018-04-19 13:55:25  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:55:25  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"32","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:55:25  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:55:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:55:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524120925087"}],"invoice_date":"180419"}}
2018-04-19 13:56:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:56:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (33, 34, 8, 'invoice', '1804190340007', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340007\"}', 1), (34, 34, 8, 'invoice_detail', '1804190340007', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340007\",\"local_invoice_detail_id\":12,\"machine_id\":34,\"quantity\":-2}', 1), (35, 34, 8, 'invoice', '1804190340007', 5, '{\"invoice_code\":\"1804190340007\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 13:56:16\",\"payment_status\":3,\"staff_id\":1}', 1)"}
2018-04-19 13:56:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:56:17  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:56:17  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:56:17  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 13:56:17  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:56:17  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"33,34,35"}}
2018-04-19 13:56:17  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524120977676"}}
2018-04-19 13:56:18  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:56:18  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"33,34,35","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:56:18  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:56:45  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:56:45  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (36, 34, 8, 'invoice', '1804190340008', 1, '{\"amount\":40000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:56:45\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340008\",\"invoice_no\":8,\"local_invoice_id`\":8,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:56:45\",\"payment_status\":1,\"table_id\":8}', 1), (37, 34, 8, 'invoice_detail', '1804190340008', 1, '{\"amount\":40000,\"invoice_code\":\"1804190340008\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":13,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:56:45\",\"order_status\":0,\"original_price\":10000,\"quantity\":4,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 13:56:45  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:56:48  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:56:49  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:56:49  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:56:49  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"36,37"}}
2018-04-19 13:56:49  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:56:49  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008"],"store_code":"tructrac"}
2018-04-19 13:56:49  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"36,37","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:56:49  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:56:49  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":7,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121008731"}}
2018-04-19 13:56:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:56:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121008731"}],"invoice_date":"180419"}}
2018-04-19 13:56:56  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:56:56  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (38, 34, 8, 'invoice', '1804190340008', 2, '{\"checksum\":2,\"guest_number\":0,\"invoice_code\":\"1804190340008\",\"note\":\"huy\"}', 1)"}
2018-04-19 13:56:56  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:56:57  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:56:57  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:56:57  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008"],"store_code":"tructrac"}
2018-04-19 13:56:57  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:56:57  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"38"}}
2018-04-19 13:56:57  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121017610"}}
2018-04-19 13:56:58  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:56:58  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"38","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:56:58  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:57:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:57:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121017610"}],"invoice_date":"180419"}}
2018-04-19 13:58:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:58:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (39, 34, 6, 'invoice', '1804190340009', 1, '{\"amount\":40000,\"checksum\":1,\"created_date_time\":\"2018-04-19 13:58:33\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340009\",\"invoice_no\":9,\"local_invoice_id`\":9,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 13:58:33\",\"payment_status\":1,\"table_id\":6}', 1), (40, 34, 6, 'invoice_detail', '1804190340009', 1, '{\"amount\":40000,\"invoice_code\":\"1804190340009\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":14,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 13:58:33\",\"order_status\":0,\"original_price\":20000,\"quantity\":2,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 13:58:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:58:34  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:58:34  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:58:34  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340009"],"store_code":"tructrac"}
2018-04-19 13:58:34  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:58:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"39,40"}}
2018-04-19 13:58:34  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340009","table_id":6}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:58:33","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":35,"invoice_code":"1804190340009","order_status":0,"staff_id":1,"local_invoice_detail_id":14}],"invoice_no":9,"payment_status":1,"payment_date_time":"2018-04-19 13:58:33","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190340009","created_date_time":"2018-04-19 13:58:33","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":8,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121114036"}}
2018-04-19 13:58:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:58:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"39,40","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:58:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:58:42  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:58:42  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (41, 34, 6, 'invoice', '1804190340009', 2, '{\"checksum\":2,\"guest_number\":0,\"invoice_code\":\"1804190340009\",\"note\":\"aa\"}', 1)"}
2018-04-19 13:58:42  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:58:42  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 13:58:42  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 13:58:42  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340009"],"store_code":"tructrac"}
2018-04-19 13:58:42  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 13:58:42  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"41"}}
2018-04-19 13:58:42  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 13:58:42  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"41","machine_id":34,"store_code":"tructrac"}
2018-04-19 13:58:42  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 13:58:43  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340009","table_id":6}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"\"aa\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 13:58:33","item_id":2,"machine_id":34,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":35,"invoice_code":"1804190340009","order_status":0,"staff_id":1,"local_invoice_detail_id":14}],"invoice_no":9,"payment_status":1,"payment_date_time":"2018-04-19 13:58:33","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190340009","created_date_time":"2018-04-19 13:58:33","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":8,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121122665"}}
2018-04-19 13:58:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:58:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121122665"}],"invoice_date":"180419"}}
2018-04-19 13:59:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 13:59:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121122665"}],"invoice_date":"180419"}}
2018-04-19 14:00:21  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 14:00:21  INFO ServerConnector:303 - Stopped ServerConnector@6824633f{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:00:21  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@147b910a{/,null,UNAVAILABLE}
2018-04-19 14:00:21  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@28214ea0{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 14:00:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:00:26  INFO local:839 - local: Created a new connection
2018-04-19 14:00:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:00:26  INFO local:839 - local: Created a new connection
2018-04-19 14:00:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:00:26  INFO local:839 - local: Created a new connection
2018-04-19 14:00:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:00:26  INFO local:839 - local: Created a new connection
2018-04-19 14:00:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:00:27  INFO local:839 - local: Created a new connection
2018-04-19 14:00:27  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:00:27  INFO local:839 - local: Created a new connection
2018-04-19 14:00:27  INFO log:178 - Logging initialized @1664ms
2018-04-19 14:00:27  INFO WebServer:74 - Start server...
2018-04-19 14:00:27  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@1a87340f{/,null,null} contextPath ends with /*
2018-04-19 14:00:27  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:00:27  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@1a87340f{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:00:27  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@30691962{/,null,AVAILABLE}
2018-04-19 14:00:27  INFO ServerConnector:266 - Started ServerConnector@140ec484{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:00:27  INFO Server:350 - Started @1828ms
2018-04-19 14:00:27  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:00:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:00:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (42, 34, 6, 'invoice', '1804190340009', 4, '{\"checksum\":3,\"invoice_code\":\"1804190340009\",\"machine_id\":34,\"payment_date_time\":\"2018-04-19 14:00:33\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 14:00:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:00:34  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:00:34  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:00:34  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:00:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"42"}}
2018-04-19 14:00:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:00:34  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008"],"store_code":"tructrac"}
2018-04-19 14:00:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"42","machine_id":34,"store_code":"tructrac"}
2018-04-19 14:00:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:00:35  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121234297"}}
2018-04-19 14:00:36  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:00:36  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (43, 34, 7, 'invoice', '1804190340010', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:00:36\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340010\",\"invoice_no\":10,\"local_invoice_id`\":10,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:00:36\",\"payment_status\":1,\"table_id\":7}', 1), (44, 34, 7, 'invoice_detail', '1804190340010', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340010\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":15,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:00:36\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:00:36  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:00:37  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:00:37  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:00:37  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010"],"store_code":"tructrac"}
2018-04-19 14:00:37  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:00:37  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"43,44"}}
2018-04-19 14:00:37  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340010","table_id":7}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":9,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121237353"}}
2018-04-19 14:00:38  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:00:38  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"43,44","machine_id":34,"store_code":"tructrac"}
2018-04-19 14:00:38  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:00:44  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:00:44  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (45, 34, 7, 'invoice', '1804190340010', 2, '{\"checksum\":2,\"guest_number\":0,\"invoice_code\":\"1804190340010\",\"note\":\"a\"}', 1)"}
2018-04-19 14:00:44  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:00:45  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:00:45  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:00:45  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010"],"store_code":"tructrac"}
2018-04-19 14:00:45  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:00:45  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"45"}}
2018-04-19 14:00:45  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340010","table_id":7}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"a","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":9,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121245586"}}
2018-04-19 14:00:46  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:00:46  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"45","machine_id":34,"store_code":"tructrac"}
2018-04-19 14:00:46  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:00:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:00:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121245586"}],"invoice_date":"180419"}}
2018-04-19 14:01:24  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:01:24  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (46, 34, 7, 'invoice', '1804190340010', 2, '{\"checksum\":3,\"guest_number\":0,\"invoice_code\":\"1804190340010\",\"note\":\"a\\\"\"}', 1)"}
2018-04-19 14:01:24  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:01:25  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:01:25  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:01:25  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010"],"store_code":"tructrac"}
2018-04-19 14:01:25  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:01:25  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"46"}}
2018-04-19 14:01:25  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340010","table_id":7}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"a\"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":3,"invoice_id":9,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121285298"}}
2018-04-19 14:01:25  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:01:25  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"46","machine_id":34,"store_code":"tructrac"}
2018-04-19 14:01:25  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:01:49  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:01:49  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (47, 34, 7, 'invoice', '1804190340010', 2, '{\"checksum\":4,\"guest_number\":0,\"invoice_code\":\"1804190340010\",\"note\":\"a\\\"   \\\"b\\\" \\\"\"}', 1)"}
2018-04-19 14:01:49  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:01:51  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:01:51  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:01:51  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010"],"store_code":"tructrac"}
2018-04-19 14:01:51  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:01:51  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"47"}}
2018-04-19 14:01:51  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340010","table_id":7}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"a\"   \"b\" \"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":4,"invoice_id":9,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524121311001"}}
2018-04-19 14:01:51  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:01:51  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"47","machine_id":34,"store_code":"tructrac"}
2018-04-19 14:01:51  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:01:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:01:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:02:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:02:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:03:26  INFO local:839 - local: Destroyed connection
2018-04-19 14:03:31  INFO local:839 - local: Destroyed connection
2018-04-19 14:03:31  INFO local:839 - local: Destroyed connection
2018-04-19 14:03:31  INFO local:839 - local: Destroyed connection
2018-04-19 14:03:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:03:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:04:51  INFO local:839 - local: Destroyed connection
2018-04-19 14:04:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:04:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:05:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:05:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:06:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:06:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:07:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:07:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:08:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:08:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:09:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:09:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:10:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:10:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:11:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:11:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:12:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:12:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:13:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:13:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:14:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:14:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:15:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:15:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:16:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:16:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:17:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:17:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:18:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:18:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:19:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:19:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:20:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:20:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:21:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:21:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:22:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:22:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:23:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:23:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:24:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:24:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:25:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:25:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:26:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:26:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:27:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:27:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:28:04  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 14:28:04  INFO ServerConnector:303 - Stopped ServerConnector@140ec484{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:28:04  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@30691962{/,null,UNAVAILABLE}
2018-04-19 14:28:04  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@1a87340f{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 14:32:58  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:32:59  INFO local:839 - local: Created a new connection
2018-04-19 14:32:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:32:59  INFO local:839 - local: Created a new connection
2018-04-19 14:33:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:33:00  INFO local:839 - local: Created a new connection
2018-04-19 14:33:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:33:00  INFO local:839 - local: Created a new connection
2018-04-19 14:33:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:33:00  INFO local:839 - local: Created a new connection
2018-04-19 14:33:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:33:00  INFO local:839 - local: Created a new connection
2018-04-19 14:33:02  INFO log:178 - Logging initialized @4619ms
2018-04-19 14:33:02  INFO WebServer:74 - Start server...
2018-04-19 14:33:02  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@2f07f4e9{/,null,null} contextPath ends with /*
2018-04-19 14:33:02  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:33:02  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@2f07f4e9{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:33:02  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@46883012{/,null,AVAILABLE}
2018-04-19 14:33:02  INFO ServerConnector:266 - Started ServerConnector@57b9b35{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:33:02  INFO Server:350 - Started @4823ms
2018-04-19 14:33:03  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:33:04  INFO InvoiceController:76 - InvoiceController.processs: cmd = get_invoice_list, data = {"from_date":"","from_index":0,"merchant_code":"tructrac","staff_id":1,"to_date":"","to_index":9}
2018-04-19 14:33:05  INFO InvoiceController:146 - InvoiceController.processs: response = {"err":0,"msg":"No error","dt":{"total":6,"invoices":[{"invoice_id":8,"invoice_code":"1804190340009","amount":40000,"created_date_time":"2018-04-19 13:58:33","payment_date_time":"2018-04-19 14:00:33","payment_method":4,"payment_status":2,"table_name":"Bn 5","guest_number":0,"area_type":1,"guest_name":""},{"invoice_id":5,"invoice_code":"1804190340006","amount":40000,"created_date_time":"2018-04-19 13:52:16","payment_date_time":"2018-04-19 13:54:21","payment_method":4,"payment_status":2,"table_name":"Bn 5","guest_number":0,"area_type":1,"guest_name":""},{"invoice_id":4,"invoice_code":"1804190340005","amount":35000,"created_date_time":"2018-04-19 13:51:28","payment_date_time":"2018-04-19 13:51:41","payment_method":4,"payment_status":2,"table_name":"Bn 7","guest_number":0,"area_type":1,"guest_name":""},{"invoice_id":3,"invoice_code":"1804190340004","amount":30000,"created_date_time":"2018-04-19 13:51:01","payment_date_time":"2018-04-19 13:51:11","payment_method":4,"payment_status":2,"table_name":"Bn 7","guest_number":0,"area_type":1,"guest_name":""},{"invoice_id":2,"invoice_code":"1804190340003","amount":110000,"created_date_time":"2018-04-19 13:45:00","payment_date_time":"2018-04-19 13:45:32","payment_method":4,"payment_status":2,"table_name":"Bn 5","guest_number":0,"area_type":1,"guest_name":""},{"invoice_id":1,"invoice_code":"1804190340002","amount":40000,"created_date_time":"2018-04-19 13:21:50","payment_date_time":"2018-04-19 13:44:03","payment_method":4,"payment_status":2,"table_name":"Bn 2","guest_number":1,"area_type":1,"guest_name":"\"\""}]}}
2018-04-19 14:33:15  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:33:15  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (48, 34, 2, 'invoice', '1804190340011', 1, '{\"amount\":140000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:33:15\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340011\",\"invoice_no\":11,\"local_invoice_id`\":11,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:33:15\",\"payment_status\":1,\"table_id\":2}', 1), (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 14:33:15  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:33:17 ERROR ImportDBModel:809 - ImportDBModeltructrac.insertToInvoiceAndUpdateLogStatus: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1062)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceAndUpdateLogStatus(ImportDBModel.java:793)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:312)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 14:33:18  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:33:24  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:33:24  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (48, 34, 2, 'invoice', '1804190340011', 1, '{\"amount\":140000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:33:15\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340011\",\"invoice_no\":11,\"local_invoice_id`\":11,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:33:15\",\"payment_status\":1,\"table_id\":2}', 1), (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1)"}
2018-04-19 14:33:24  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:33:24 ERROR ImportDBModel:809 - ImportDBModeltructrac.insertToInvoiceAndUpdateLogStatus: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1062)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceAndUpdateLogStatus(ImportDBModel.java:793)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:312)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 14:33:27  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:33:27  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (48, 34, 2, 'invoice', '1804190340011', 1, '{\"amount\":140000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:33:15\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340011\",\"invoice_no\":11,\"local_invoice_id`\":11,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:33:15\",\"payment_status\":1,\"table_id\":2}', 1), (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:33:27  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:33:27  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:33:28 ERROR ImportDBModel:809 - ImportDBModeltructrac.insertToInvoiceAndUpdateLogStatus: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1062)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceAndUpdateLogStatus(ImportDBModel.java:793)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:312)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 14:33:28  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:33:33 ERROR ImportDBModel:809 - ImportDBModeltructrac.insertToInvoiceAndUpdateLogStatus: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1062)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceAndUpdateLogStatus(ImportDBModel.java:793)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:312)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.schedProcessExecLog(SyncDBTask.java:259)
	at vpos.api.gateway.task.SyncDBTask.access$200(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$1.run(SyncDBTask.java:119)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 14:33:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:33:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (48, 34, 2, 'invoice', '1804190340011', 1, '{\"amount\":140000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:33:15\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340011\",\"invoice_no\":11,\"local_invoice_id`\":11,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:33:15\",\"payment_status\":1,\"table_id\":2}', 1), (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 14:33:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:33:35 ERROR ImportDBModel:809 - ImportDBModeltructrac.insertToInvoiceAndUpdateLogStatus: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1062)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceAndUpdateLogStatus(ImportDBModel.java:793)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:312)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 14:33:36  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:33:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:33:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:33:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (48, 34, 2, 'invoice', '1804190340011', 1, '{\"amount\":140000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:33:15\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340011\",\"invoice_no\":11,\"local_invoice_id`\":11,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:33:15\",\"payment_status\":1,\"table_id\":2}', 1), (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 14:33:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:33:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524121311001"}],"invoice_date":"180419"}}
2018-04-19 14:33:55 ERROR ImportDBModel:809 - ImportDBModeltructrac.insertToInvoiceAndUpdateLogStatus: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '14:33:15,1,2,34,0,,2018-04-19 14:33:15,1,)' at line 1
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:408)
	at com.mysql.jdbc.Util.getInstance(Util.java:383)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1062)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4226)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4158)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2834)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1755)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1679)
	at snaq.db.CachedStatement.executeUpdate(CachedStatement.java:243)
	at vpos.api.gateway.model.ImportDBModel.insertInvoiceAndUpdateLogStatus(ImportDBModel.java:793)
	at vpos.api.gateway.model.ImportDBModel.doProcessExecLog(ImportDBModel.java:312)
	at vpos.api.gateway.task.SyncDBTask.processExecLogAll(SyncDBTask.java:290)
	at vpos.api.gateway.task.SyncDBTask.processExecLog(SyncDBTask.java:201)
	at vpos.api.gateway.task.SyncDBTask.access$300(SyncDBTask.java:33)
	at vpos.api.gateway.task.SyncDBTask$2.run(SyncDBTask.java:162)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
2018-04-19 14:33:55  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:34:32  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 34, data = {"type":2,"msg":"","dt":{"machine_id":34,"exec_log_ids":"48"}}
2018-04-19 14:34:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:34:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"48","machine_id":34,"store_code":"tructrac"}
2018-04-19 14:34:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:34:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:34:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:34:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 14:34:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:34:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123243092"}],"invoice_date":"180419"}}
2018-04-19 14:34:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010","1804190340011"],"store_code":"tructrac"}
2018-04-19 14:34:54  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:34:55  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340010","table_id":7},{"invoice_code":"1804190340011","table_id":2}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"a\"   \"b\" \"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":4,"invoice_id":9,"payment_method":0},{"guest_info":"","note":"","amount":140000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":11,"payment_status":1,"payment_date_time":"2018-04-19 14:33:15","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190340011","created_date_time":"2018-04-19 14:33:15","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":10,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524123243092"}}
2018-04-19 14:35:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:35:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:35:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 14:35:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:35:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123243092"}],"invoice_date":"180419"}}
2018-04-19 14:35:54  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:36:00  INFO local:839 - local: Destroyed connection
2018-04-19 14:36:05  INFO local:839 - local: Destroyed connection
2018-04-19 14:36:05  INFO local:839 - local: Destroyed connection
2018-04-19 14:36:40  INFO local:839 - local: Destroyed connection
2018-04-19 14:36:46  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 14:36:46  INFO ServerConnector:303 - Stopped ServerConnector@57b9b35{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:36:46  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@46883012{/,null,UNAVAILABLE}
2018-04-19 14:36:46  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@2f07f4e9{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 14:36:48  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:36:49  INFO local:839 - local: Created a new connection
2018-04-19 14:36:49  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:36:50  INFO local:839 - local: Created a new connection
2018-04-19 14:36:50  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:36:50  INFO local:839 - local: Created a new connection
2018-04-19 14:36:50  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:36:50  INFO local:839 - local: Created a new connection
2018-04-19 14:36:50  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:36:50  INFO local:839 - local: Created a new connection
2018-04-19 14:36:50  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:36:50  INFO local:839 - local: Created a new connection
2018-04-19 14:36:52  INFO log:178 - Logging initialized @3674ms
2018-04-19 14:36:52  INFO WebServer:74 - Start server...
2018-04-19 14:36:52  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 14:36:52  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:36:52  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:36:52  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@50fb2c50{/,null,AVAILABLE}
2018-04-19 14:36:52  INFO ServerConnector:266 - Started ServerConnector@6c76bc7b{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:36:52  INFO Server:350 - Started @3866ms
2018-04-19 14:36:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:36:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:36:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 14:36:54  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:36:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:36:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 14:36:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:36:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:36:55  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123243092"}],"invoice_date":"180419"}}
2018-04-19 14:37:00  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:37:00  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:37:00  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:37:17  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:37:18  INFO local:839 - local: Created a new connection
2018-04-19 14:37:18  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:37:18  INFO local:839 - local: Created a new connection
2018-04-19 14:37:18  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:37:18  INFO local:839 - local: Created a new connection
2018-04-19 14:37:18  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:37:19  INFO local:839 - local: Created a new connection
2018-04-19 14:37:19  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:37:19  INFO local:839 - local: Created a new connection
2018-04-19 14:37:19  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:37:19  INFO local:839 - local: Created a new connection
2018-04-19 14:37:22  INFO log:178 - Logging initialized @5553ms
2018-04-19 14:37:22  INFO WebServer:74 - Start server...
2018-04-19 14:37:22  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@6717c16{/,null,null} contextPath ends with /*
2018-04-19 14:37:22  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:37:22  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@6717c16{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:37:22  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@131f76e6{/,null,AVAILABLE}
2018-04-19 14:37:22  INFO ServerConnector:266 - Started ServerConnector@7a360287{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:37:22  INFO Server:350 - Started @5716ms
2018-04-19 14:37:24  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:37:24  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:37:24  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:37:24  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:37:29  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:37:29  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:37:29  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:37:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:37:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:37:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:37:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:37:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123422819"}],"invoice_date":"180419"}}
2018-04-19 14:37:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010","1804190340011","1804190340012","1804190340013"],"store_code":"tructrac"}
2018-04-19 14:37:55  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340010","table_id":7},{"invoice_code":"1804190340011","table_id":2},{"invoice_code":"1804190340012","table_id":9}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"a\"   \"b\" \"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":4,"invoice_id":9,"payment_method":0},{"guest_info":"","note":"","amount":140000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":11,"payment_status":1,"payment_date_time":"2018-04-19 14:33:15","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190340011","created_date_time":"2018-04-19 14:33:15","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":10,"payment_method":0},{"guest_info":"","note":"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:37:00","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":37,"invoice_code":"1804190340012","order_status":0,"staff_id":1,"local_invoice_detail_id":19}],"invoice_no":12,"payment_status":1,"payment_date_time":"2018-04-19 14:37:00","discount":0.00,"machine_id":0,"table_id":9,"invoice_code":"1804190340012","created_date_time":"2018-04-19 14:37:00","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":11,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524123422819"}}
2018-04-19 14:38:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:38:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:38:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:38:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:38:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123422819"}],"invoice_date":"180419"}}
2018-04-19 14:40:24  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:24  INFO local:839 - local: Created a new connection
2018-04-19 14:40:24  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:24  INFO local:839 - local: Created a new connection
2018-04-19 14:40:24  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:25  INFO local:839 - local: Created a new connection
2018-04-19 14:40:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:25  INFO local:839 - local: Created a new connection
2018-04-19 14:40:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:25  INFO local:839 - local: Created a new connection
2018-04-19 14:40:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:25  INFO local:839 - local: Created a new connection
2018-04-19 14:40:25  INFO log:178 - Logging initialized @2206ms
2018-04-19 14:40:25  INFO WebServer:74 - Start server...
2018-04-19 14:40:26  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@6047fba8{/,null,null} contextPath ends with /*
2018-04-19 14:40:26  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:40:26  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@6047fba8{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:40:26  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@7d14641f{/,null,AVAILABLE}
2018-04-19 14:40:26  INFO ServerConnector:266 - Started ServerConnector@29e78af5{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:40:26  INFO Server:350 - Started @2380ms
2018-04-19 14:40:27  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:40:27  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:40:27  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:40:27  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:40:50  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:51  INFO local:839 - local: Created a new connection
2018-04-19 14:40:51  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:51  INFO local:839 - local: Created a new connection
2018-04-19 14:40:51  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:51  INFO local:839 - local: Created a new connection
2018-04-19 14:40:51  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:52  INFO local:839 - local: Created a new connection
2018-04-19 14:40:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:52  INFO local:839 - local: Created a new connection
2018-04-19 14:40:52  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:40:52  INFO local:839 - local: Created a new connection
2018-04-19 14:40:52  INFO log:178 - Logging initialized @2299ms
2018-04-19 14:40:52  INFO WebServer:74 - Start server...
2018-04-19 14:40:52  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@4cfaa332{/,null,null} contextPath ends with /*
2018-04-19 14:40:52  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:40:52  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@4cfaa332{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:40:52  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@32f26fe7{/,null,AVAILABLE}
2018-04-19 14:40:52  INFO ServerConnector:266 - Started ServerConnector@ef7d327{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:40:52  INFO Server:350 - Started @2471ms
2018-04-19 14:40:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:40:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:40:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:40:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:40:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:40:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:40:54  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:40:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:40:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123558977"}],"invoice_date":"180419"}}
2018-04-19 14:40:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010","1804190340011","1804190340012","1804190340013"],"store_code":"tructrac"}
2018-04-19 14:40:55  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190340008","table_id":8},{"invoice_code":"1804190340010","table_id":7},{"invoice_code":"1804190340011","table_id":2},{"invoice_code":"1804190340012","table_id":9},{"invoice_code":"1804190340013","table_id":6}],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"a\"   \"b\" \"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":4,"invoice_id":9,"payment_method":0},{"guest_info":"","note":"","amount":140000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":11,"payment_status":1,"payment_date_time":"2018-04-19 14:33:15","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190340011","created_date_time":"2018-04-19 14:33:15","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":10,"payment_method":0},{"guest_info":"","note":"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:37:00","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":37,"invoice_code":"1804190340012","order_status":0,"staff_id":1,"local_invoice_detail_id":19}],"invoice_no":12,"payment_status":1,"payment_date_time":"2018-04-19 14:37:00","discount":0.00,"machine_id":0,"table_id":9,"invoice_code":"1804190340012","created_date_time":"2018-04-19 14:37:00","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":11,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":13,"payment_status":1,"payment_date_time":"2018-04-19 14:37:29","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190340013","created_date_time":"2018-04-19 14:37:29","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":12,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524123558977"}}
2018-04-19 14:41:12  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:41:12  INFO local:839 - local: Created a new connection
2018-04-19 14:41:12  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:41:13  INFO local:839 - local: Created a new connection
2018-04-19 14:41:13  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:41:13  INFO local:839 - local: Created a new connection
2018-04-19 14:41:13  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:41:13  INFO local:839 - local: Created a new connection
2018-04-19 14:41:13  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:41:13  INFO local:839 - local: Created a new connection
2018-04-19 14:41:13  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:41:13  INFO local:839 - local: Created a new connection
2018-04-19 14:41:14  INFO log:178 - Logging initialized @2619ms
2018-04-19 14:41:14  INFO WebServer:74 - Start server...
2018-04-19 14:41:14  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@2e194d2a{/,null,null} contextPath ends with /*
2018-04-19 14:41:14  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:41:14  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@2e194d2a{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:41:14  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@70d1c734{/,null,AVAILABLE}
2018-04-19 14:41:14  INFO ServerConnector:266 - Started ServerConnector@3e1629e7{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:41:14  INFO Server:350 - Started @2786ms
2018-04-19 14:41:15  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:41:15  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:41:15  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (60, 34, 3, 'invoice', '1804190340014', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:41:08\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:41:08\",\"payment_status\":1,\"table_id\":3}', 1), (61, 34, 3, 'invoice_detail', '1804190340014', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340014\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":21,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:41:08\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:41:15  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:41:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:41:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:41:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (60, 34, 3, 'invoice', '1804190340014', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:41:08\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:41:08\",\"payment_status\":1,\"table_id\":3}', 1), (61, 34, 3, 'invoice_detail', '1804190340014', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340014\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":21,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:41:08\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:41:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:41:55  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123558977"}],"invoice_date":"180419"}}
2018-04-19 14:43:20  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:43:21  INFO local:839 - local: Created a new connection
2018-04-19 14:43:21  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:43:21  INFO local:839 - local: Created a new connection
2018-04-19 14:43:21  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:43:22  INFO local:839 - local: Created a new connection
2018-04-19 14:43:22  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:43:22  INFO local:839 - local: Created a new connection
2018-04-19 14:43:22  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:43:22  INFO local:839 - local: Created a new connection
2018-04-19 14:43:22  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:43:23  INFO local:839 - local: Created a new connection
2018-04-19 14:43:24  INFO log:178 - Logging initialized @4037ms
2018-04-19 14:43:24  INFO WebServer:74 - Start server...
2018-04-19 14:43:24  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@6edd36fa{/,null,null} contextPath ends with /*
2018-04-19 14:43:24  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:43:24  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@6edd36fa{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:43:24  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@7680efb2{/,null,AVAILABLE}
2018-04-19 14:43:24  INFO ServerConnector:266 - Started ServerConnector@3fc1f124{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:43:24  INFO Server:350 - Started @4235ms
2018-04-19 14:43:24  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:43:24  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:43:24  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (60, 34, 3, 'invoice', '1804190340014', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:41:08\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:41:08\",\"payment_status\":1,\"table_id\":3}', 1), (61, 34, 3, 'invoice_detail', '1804190340014', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340014\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":21,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:41:08\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:43:24  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:44:00  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:44:01  INFO local:839 - local: Created a new connection
2018-04-19 14:44:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:44:01  INFO local:839 - local: Created a new connection
2018-04-19 14:44:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:44:01  INFO local:839 - local: Created a new connection
2018-04-19 14:44:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:44:01  INFO local:839 - local: Created a new connection
2018-04-19 14:44:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:44:01  INFO local:839 - local: Created a new connection
2018-04-19 14:44:01  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:44:02  INFO local:839 - local: Created a new connection
2018-04-19 14:44:02  INFO log:178 - Logging initialized @2073ms
2018-04-19 14:44:02  INFO WebServer:74 - Start server...
2018-04-19 14:44:02  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@7941c220{/,null,null} contextPath ends with /*
2018-04-19 14:44:02  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:44:02  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@7941c220{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:44:02  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@66a49ba7{/,null,AVAILABLE}
2018-04-19 14:44:02  INFO ServerConnector:266 - Started ServerConnector@2e7f658b{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:44:02  INFO Server:350 - Started @2288ms
2018-04-19 14:44:03  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 34, deviceId = 715f1f70d1a74f3f973dff22243f4a32
2018-04-19 14:44:03  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:44:03  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (60, 34, 3, 'invoice', '1804190340014', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:41:08\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:41:08\",\"payment_status\":1,\"table_id\":3}', 1), (61, 34, 3, 'invoice_detail', '1804190340014', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340014\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":21,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:41:08\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (62, 34, 4, 'invoice', '1804190340015', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:43:55\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:43:55\",\"payment_status\":1,\"table_id\":4}', 1), (63, 34, 4, 'invoice_detail', '1804190340015', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340015\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":22,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:43:55\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:44:03  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:44:54  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:44:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:44:54  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (49, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":140000,\"invoice_code\":\"1804190340011\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":16,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:15\",\"order_status\":0,\"original_price\":20000,\"quantity\":7,\"staff_id\":1,\"unit_price\":20000}', 1), (50, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\"}', 1), (51, 34, 2, 'invoice_detail', '1804190340011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190340011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":10000,\"invoice_code\":\"1804190340011\"}', 1), (53, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340011\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":17,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:27\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (54, 34, 2, 'invoice', '1804190340011', 2, '{\"amount\":5000,\"invoice_code\":\"1804190340011\"}', 1), (55, 34, 2, 'invoice_detail', '1804190340011', 1, '{\"amount\":5000,\"invoice_code\":\"1804190340011\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":18,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:33:35\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (56, 34, 9, 'invoice', '1804190340012', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:00\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340012\",\"invoice_no\":12,\"local_invoice_id`\":12,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:00\",\"payment_status\":1,\"table_id\":9}', 1), (57, 34, 9, 'invoice_detail', '1804190340012', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340012\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":19,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:00\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (58, 34, 6, 'invoice', '1804190340013', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:37:29\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:37:29\",\"payment_status\":1,\"table_id\":6}', 1), (59, 34, 6, 'invoice_detail', '1804190340013', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340013\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":20,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:37:29\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1), (60, 34, 3, 'invoice', '1804190340014', 1, '{\"amount\":30000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:41:08\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:41:08\",\"payment_status\":1,\"table_id\":3}', 1), (61, 34, 3, 'invoice_detail', '1804190340014', 1, '{\"amount\":30000,\"invoice_code\":\"1804190340014\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":21,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:41:08\",\"order_status\":0,\"original_price\":10000,\"quantity\":3,\"staff_id\":1,\"unit_price\":10000}', 1), (62, 34, 4, 'invoice', '1804190340015', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:43:55\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190340015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":34,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:43:55\",\"payment_status\":1,\"table_id\":4}', 1), (63, 34, 4, 'invoice_detail', '1804190340015', 1, '{\"amount\":10000,\"invoice_code\":\"1804190340015\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":22,\"machine_id\":34,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:43:55\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:44:54  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:44:54  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123722054"}],"invoice_date":"180419"}}
2018-04-19 14:44:54  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190340008","1804190340010","1804190340011","1804190340012","1804190340013","1804190340014","1804190340015"],"store_code":"tructrac"}
2018-04-19 14:44:55  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[{"guest_info":"","note":"\"huy\"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":40000.00,"quantity":4.00,"order_date_time":"2018-04-19 13:56:45","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":34,"invoice_code":"1804190340008","order_status":0,"staff_id":1,"local_invoice_detail_id":13}],"invoice_no":8,"payment_status":1,"payment_date_time":"2018-04-19 13:56:45","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190340008","created_date_time":"2018-04-19 13:56:45","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":2,"invoice_id":7,"payment_method":0},{"guest_info":"","note":"a\"   \"b\" \"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:00:36","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":36,"invoice_code":"1804190340010","order_status":0,"staff_id":1,"local_invoice_detail_id":15}],"invoice_no":10,"payment_status":1,"payment_date_time":"2018-04-19 14:00:36","discount":0.00,"machine_id":0,"table_id":7,"invoice_code":"1804190340010","created_date_time":"2018-04-19 14:00:36","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":4,"invoice_id":9,"payment_method":0},{"guest_info":"","note":"","amount":140000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":11,"payment_status":1,"payment_date_time":"2018-04-19 14:33:15","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190340011","created_date_time":"2018-04-19 14:33:15","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":10,"payment_method":0},{"guest_info":"","note":"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:37:00","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":37,"invoice_code":"1804190340012","order_status":0,"staff_id":1,"local_invoice_detail_id":19}],"invoice_no":12,"payment_status":1,"payment_date_time":"2018-04-19 14:37:00","discount":0.00,"machine_id":0,"table_id":9,"invoice_code":"1804190340012","created_date_time":"2018-04-19 14:37:00","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":11,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":13,"payment_status":1,"payment_date_time":"2018-04-19 14:37:29","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190340013","created_date_time":"2018-04-19 14:37:29","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":12,"payment_method":0},{"guest_info":"","note":"","amount":30000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":30000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:41:08","item_id":1,"machine_id":34,"item_name":"Coca","unit_price":10000,"invoice_detail_id":38,"invoice_code":"1804190340014","order_status":0,"staff_id":1,"local_invoice_detail_id":21}],"invoice_no":14,"payment_status":1,"payment_date_time":"2018-04-19 14:41:08","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190340014","created_date_time":"2018-04-19 14:41:08","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":34,"checksum":1,"invoice_id":13,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524123722054"}}
2018-04-19 14:53:08  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:53:09  INFO local:839 - local: Created a new connection
2018-04-19 14:53:09  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:53:09  INFO local:839 - local: Created a new connection
2018-04-19 14:53:09  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:53:09  INFO local:839 - local: Created a new connection
2018-04-19 14:53:09  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:53:09  INFO local:839 - local: Created a new connection
2018-04-19 14:53:09  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:53:10  INFO local:839 - local: Created a new connection
2018-04-19 14:53:10  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 14:53:10  INFO local:839 - local: Created a new connection
2018-04-19 14:53:10  INFO log:178 - Logging initialized @2083ms
2018-04-19 14:53:10  INFO WebServer:74 - Start server...
2018-04-19 14:53:10  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@3313b960{/,null,null} contextPath ends with /*
2018-04-19 14:53:10  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 14:53:10  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@3313b960{/vpp/ntf,null,AVAILABLE}
2018-04-19 14:53:10  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@3db9ceef{/,null,AVAILABLE}
2018-04-19 14:53:10  INFO ServerConnector:266 - Started ServerConnector@4159f985{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:53:10  INFO Server:350 - Started @2215ms
2018-04-19 14:53:35  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:53:35  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123906924"}],"invoice_date":"180419"}}
2018-04-19 14:53:35  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 35, deviceId = f5c47c5ed8b94246a6713178db315382
2018-04-19 14:53:52  INFO NotifyController:123 - NotifyController.removeSession: store code = tructrac, client deviceId = f5c47c5ed8b94246a6713178db315382
2018-04-19 14:53:52  INFO StoreController:64 - StoreController.processs: cmd = confirm_store_owner, data = {"admin_name":"01627912324","device_id":"f5c47c5ed8b94246a6713178db315382","password":"6049fdfd19a85cb75bc81f531032743aa5a83f2f"}
2018-04-19 14:53:52  INFO StoreController:91 - StoreController.processs: response = {"err":0,"msg":"Xc nhn ch ca hng thnh cng.","dt":{"phone_number":"01627912324","stores":[{"store":{"store_code":"tructrac","store_name":"Truc Trac","store_type":1,"store_addr":""},"machine":{"machine_id":35,"machine_name":"MAY-35"}}]}}
2018-04-19 14:53:52  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 35, deviceId = f5c47c5ed8b94246a6713178db315382
2018-04-19 14:53:52  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:53:52  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524123906924"}],"invoice_date":"180419"}}
2018-04-19 14:54:09  INFO LoginController:59 - LoginController.processs: cmd = cashier_login, data = {"login_method":1,"merchant_code":"tructrac","p":"6049fdfd19a85cb75bc81f531032743aa5a83f2f","u":"01627912324"}
2018-04-19 14:54:09  INFO LoginController:78 - LoginController.processs: response = {"err":0,"msg":"ng nhp thnh cng","dt":{"merchant":{"staff_id":1,"staff_code":"AD","staff_name":"ADMIN","img_path":""}}}
2018-04-19 14:54:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (1, 35, 2, 'invoice', '1804190350001', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:54:12\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190350001\",\"invoice_no\":1,\"local_invoice_id`\":1,\"note\":\"\",\"order_machine_id\":35,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:54:12\",\"payment_status\":1,\"table_id\":2}', 1), (2, 35, 2, 'invoice_detail', '1804190350001', 1, '{\"amount\":60000,\"invoice_code\":\"1804190350001\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":1,\"machine_id\":35,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:54:12\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 14:54:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:13  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:54:13  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:54:13  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001"],"store_code":"tructrac"}
2018-04-19 14:54:13  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:54:13  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"1,2"}}
2018-04-19 14:54:13  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2}],"updated_invoices":[{"guest_info":"","note":"","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":60000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":1,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124453504"}}
2018-04-19 14:54:13  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:13  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"1,2","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:54:13  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:17  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:17  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (3, 35, 3, 'invoice', '1804190350002', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:54:17\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190350002\",\"invoice_no\":2,\"local_invoice_id`\":2,\"note\":\"\",\"order_machine_id\":35,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:54:17\",\"payment_status\":1,\"table_id\":3}', 1), (4, 35, 3, 'invoice_detail', '1804190350002', 1, '{\"amount\":5000,\"invoice_code\":\"1804190350002\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":2,\"machine_id\":35,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:54:17\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 14:54:17  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:18  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:54:18  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:54:18  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002"],"store_code":"tructrac"}
2018-04-19 14:54:18  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:54:18  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"3,4"}}
2018-04-19 14:54:18  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3}],"updated_invoices":[{"guest_info":"","note":"","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":60000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":5000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":2,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124458133"}}
2018-04-19 14:54:18  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:18  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"3,4","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:54:18  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:30  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:30  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (5, 35, 2, 'invoice', '1804190350001', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190350001\"}', 1), (6, 35, 2, 'invoice_detail', '1804190350001', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190350001\",\"local_invoice_detail_id\":1,\"machine_id\":35,\"quantity\":-1}', 1)"}
2018-04-19 14:54:30  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:31  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:54:31  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:54:31  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002"],"store_code":"tructrac"}
2018-04-19 14:54:31  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:54:31  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"5,6"}}
2018-04-19 14:54:32  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:32  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"5,6","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:54:32  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:32  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3}],"updated_invoices":[{"guest_info":"","note":"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":5000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":2,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124471674"}}
2018-04-19 14:54:44  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:44  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (7, 35, 3, 'invoice', '1804190350002', 2, '{\"amount\":20000,\"invoice_code\":\"1804190350002\"}', 1), (8, 35, 3, 'invoice_detail', '1804190350002', 1, '{\"amount\":20000,\"invoice_code\":\"1804190350002\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":3,\"machine_id\":35,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:54:44\",\"order_status\":0,\"original_price\":10000,\"quantity\":2,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:54:44  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:45  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:54:46  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:54:46  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002"],"store_code":"tructrac"}
2018-04-19 14:54:46  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:54:46  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"7,8"}}
2018-04-19 14:54:46  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:46  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"7,8","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:54:46  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:46  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3}],"updated_invoices":[{"guest_info":"","note":"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2},{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:44","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":3,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":3}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":2,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124485970"}}
2018-04-19 14:54:51  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:51  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (9, 35, 4, 'invoice', '1804190350003', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:54:51\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190350003\",\"invoice_no\":3,\"local_invoice_id`\":3,\"note\":\"\",\"order_machine_id\":35,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:54:51\",\"payment_status\":1,\"table_id\":4}', 1), (10, 35, 4, 'invoice_detail', '1804190350003', 1, '{\"amount\":10000,\"invoice_code\":\"1804190350003\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":4,\"machine_id\":35,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:54:51\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:54:51  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:51  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:51  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:54:51  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (9, 35, 4, 'invoice', '1804190350003', 1, '{\"amount\":10000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:54:51\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190350003\",\"invoice_no\":3,\"local_invoice_id`\":3,\"note\":\"\",\"order_machine_id\":35,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:54:51\",\"payment_status\":1,\"table_id\":4}', 1), (10, 35, 4, 'invoice_detail', '1804190350003', 1, '{\"amount\":10000,\"invoice_code\":\"1804190350003\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":4,\"machine_id\":35,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:54:51\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:54:51  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:51  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524124485970"}],"invoice_date":"180419"}}
2018-04-19 14:54:52  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:54:52  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:54:52  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002","1804190350003"],"store_code":"tructrac"}
2018-04-19 14:54:52  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:54:52  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"9,10"}}
2018-04-19 14:54:52  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:54:52  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:54:52  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"9,10"}}
2018-04-19 14:54:52  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3},{"invoice_code":"1804190350003","table_id":4}],"updated_invoices":[{"guest_info":"","note":"","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2},{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:44","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":3,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":3}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":2,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350003","order_status":0,"staff_id":1,"local_invoice_detail_id":4}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 14:54:51","discount":0.00,"machine_id":0,"table_id":4,"invoice_code":"1804190350003","created_date_time":"2018-04-19 14:54:51","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124492364"}}
2018-04-19 14:54:52  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:52  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:54:52  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"9,10","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:54:52  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:54:52  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"9,10","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:54:52  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:55:29  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:55:29  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (11, 35, 2, 'invoice', '1804190350001', 2, '{\"checksum\":3,\"guest_number\":0,\"invoice_code\":\"1804190350001\",\"note\":\"ghu chu bill ne\"}', 1)"}
2018-04-19 14:55:29  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:55:29  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:55:29  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:55:29  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002","1804190350003"],"store_code":"tructrac"}
2018-04-19 14:55:29  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:55:29  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"11"}}
2018-04-19 14:55:29  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:55:29  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"11","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:55:29  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:55:29  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3},{"invoice_code":"1804190350003","table_id":4}],"updated_invoices":[{"guest_info":"","note":"ghu chu bill ne","amount":40000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":3,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2},{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:44","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":3,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":3}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":2,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350003","order_status":0,"staff_id":1,"local_invoice_detail_id":4}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 14:54:51","discount":0.00,"machine_id":0,"table_id":4,"invoice_code":"1804190350003","created_date_time":"2018-04-19 14:54:51","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124529752"}}
2018-04-19 14:55:32  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:55:32  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (12, 35, 2, 'invoice', '1804190350001', 2, '{\"amount\":20000,\"invoice_code\":\"1804190350001\"}', 1), (13, 35, 2, 'invoice_detail', '1804190350001', 1, '{\"amount\":20000,\"invoice_code\":\"1804190350001\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":5,\"machine_id\":35,\"note\":\"ghi chu mon ne\",\"order_date_time\":\"2018-04-19 14:55:32\",\"order_status\":0,\"original_price\":10000,\"quantity\":2,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:55:32  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:55:32  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:55:32  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:55:32  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002","1804190350003"],"store_code":"tructrac"}
2018-04-19 14:55:32  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:55:32  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"12,13"}}
2018-04-19 14:55:32  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:55:32  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"12,13","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:55:32  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:55:32  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3},{"invoice_code":"1804190350003","table_id":4}],"updated_invoices":[{"guest_info":"","note":"ghu chu bill ne","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1},{"original_price":10000,"note":"ghi chu mon ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:55:32","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":5,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":5}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":4,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2},{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:44","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":3,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":3}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":2,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350003","order_status":0,"staff_id":1,"local_invoice_detail_id":4}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 14:54:51","discount":0.00,"machine_id":0,"table_id":4,"invoice_code":"1804190350003","created_date_time":"2018-04-19 14:54:51","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124532570"}}
2018-04-19 14:55:51  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:55:51  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524124532570"}],"invoice_date":"180419"}}
2018-04-19 14:56:06  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:06  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (14, 35, 3, 'invoice', '1804190350002', 2, '{\"checksum\":3,\"guest_number\":0,\"invoice_code\":\"1804190350002\",\"note\":\"ghi \\\"chu\\\" \\\" ne co\\\"\"}', 1)"}
2018-04-19 14:56:06  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:07  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:56:07  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:56:07  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002","1804190350003"],"store_code":"tructrac"}
2018-04-19 14:56:07  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:56:07  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"14"}}
2018-04-19 14:56:07  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:07  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"14","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:56:07  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:07  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3},{"invoice_code":"1804190350003","table_id":4}],"updated_invoices":[{"guest_info":"","note":"ghu chu bill ne","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1},{"original_price":10000,"note":"ghi chu mon ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:55:32","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":5,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":5}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":4,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"ghi \"chu\" \" ne co\"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2},{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:44","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":3,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":3}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":3,"invoice_id":2,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350003","order_status":0,"staff_id":1,"local_invoice_detail_id":4}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 14:54:51","discount":0.00,"machine_id":0,"table_id":4,"invoice_code":"1804190350003","created_date_time":"2018-04-19 14:54:51","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124567413"}}
2018-04-19 14:56:09  INFO local:839 - local: Destroyed connection
2018-04-19 14:56:14  INFO local:839 - local: Destroyed connection
2018-04-19 14:56:14  INFO local:839 - local: Destroyed connection
2018-04-19 14:56:24  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:24  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (15, 35, 3, 'invoice', '1804190350002', 2, '{\"checksum\":4,\"guest_number\":0,\"invoice_code\":\"1804190350002\",\"note\":\"ghi \\\"chu\\\" \\\" ne co\\\"\"}', 1)"}
2018-04-19 14:56:24  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:25  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:56:25  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:56:25  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002","1804190350003"],"store_code":"tructrac"}
2018-04-19 14:56:25  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:56:25  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"15"}}
2018-04-19 14:56:25  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:25  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"15","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:56:25  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:25  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3},{"invoice_code":"1804190350003","table_id":4}],"updated_invoices":[{"guest_info":"","note":"ghu chu bill ne","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1},{"original_price":10000,"note":"ghi chu mon ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:55:32","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":5,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":5}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":4,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"ghi \"chu\" \" ne co\"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2},{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:44","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":3,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":3}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":4,"invoice_id":2,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350003","order_status":0,"staff_id":1,"local_invoice_detail_id":4}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 14:54:51","discount":0.00,"machine_id":0,"table_id":4,"invoice_code":"1804190350003","created_date_time":"2018-04-19 14:54:51","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124585134"}}
2018-04-19 14:56:30  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:30  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (16, 35, 3, 'invoice', '1804190350002', 2, '{\"checksum\":5,\"guest_number\":2,\"invoice_code\":\"1804190350002\",\"note\":\"ghi \\\"chu\\\" \\\" ne co\\\"\"}', 1)"}
2018-04-19 14:56:30  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:31  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:56:31  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:56:31  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350002","1804190350003"],"store_code":"tructrac"}
2018-04-19 14:56:31  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:56:31  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"16"}}
2018-04-19 14:56:31  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:31  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"16","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:56:31  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:31  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350002","table_id":3},{"invoice_code":"1804190350003","table_id":4}],"updated_invoices":[{"guest_info":"","note":"ghu chu bill ne","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1},{"original_price":10000,"note":"ghi chu mon ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:55:32","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":5,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":5}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":4,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"ghi \"chu\" \" ne co\"","amount":25000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:17","item_id":3,"machine_id":35,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":2,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":2},{"original_price":10000,"note":"","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:44","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":3,"invoice_code":"1804190350002","order_status":0,"staff_id":1,"local_invoice_detail_id":3}],"invoice_no":2,"payment_status":1,"payment_date_time":"2018-04-19 14:54:17","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350002","created_date_time":"2018-04-19 14:54:17","expected_amount":0.00,"guest_number":2,"staff_id":0,"order_machine_id":35,"checksum":5,"invoice_id":2,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350003","order_status":0,"staff_id":1,"local_invoice_detail_id":4}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 14:54:51","discount":0.00,"machine_id":0,"table_id":4,"invoice_code":"1804190350003","created_date_time":"2018-04-19 14:54:51","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124591094"}}
2018-04-19 14:56:40  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:40  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (17, 35, 3, 'invoice', '1804190350002', 5, '{\"invoice_code\":\"1804190350002\",\"machine_id\":35,\"payment_date_time\":\"2018-04-19 14:56:40\",\"payment_status\":3,\"staff_id\":1}', 1)"}
2018-04-19 14:56:40  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:40  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:56:41  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:56:41  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001","1804190350003"],"store_code":"tructrac"}
2018-04-19 14:56:41  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:56:41  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"17"}}
2018-04-19 14:56:41  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2},{"invoice_code":"1804190350003","table_id":4}],"updated_invoices":[{"guest_info":"","note":"ghu chu bill ne","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1},{"original_price":10000,"note":"ghi chu mon ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:55:32","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":5,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":5}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":4,"invoice_id":1,"payment_method":0},{"guest_info":"","note":"","amount":10000.00,"order_staff_id":1,"invoice_details":[{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350003","order_status":0,"staff_id":1,"local_invoice_detail_id":4}],"invoice_no":3,"payment_status":1,"payment_date_time":"2018-04-19 14:54:51","discount":0.00,"machine_id":0,"table_id":4,"invoice_code":"1804190350003","created_date_time":"2018-04-19 14:54:51","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":3,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124600984"}}
2018-04-19 14:56:41  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:41  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"17","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:56:41  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:50  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:50  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (18, 35, 2, 'invoice', '1804190350003', 7, '{\"invoice_code\":\"1804190350003\",\"machine_id\":35,\"payment_status\":9}', 1), (19, 35, 4, 'invoice_detail', '1804190350003', 7, '{\"dest_invoice_code\":\"1804190350001\",\"machine_id\":35,\"source_invoice_code\":\"1804190350003\"}', 1), (20, 35, 2, 'invoice', '1804190350001', 2, '{\"amount\":10000,\"guest_number\":0,\"invoice_code\":\"1804190350001\",\"machine_id\":35,\"table_id\":2}', 1)"}
2018-04-19 14:56:50  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:51  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:56:51  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:56:51  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350001"],"store_code":"tructrac"}
2018-04-19 14:56:51  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:56:51  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"18,19,20"}}
2018-04-19 14:56:51  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350001","table_id":2}],"updated_invoices":[{"guest_info":"","note":"ghu chu bill ne","amount":70000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":40000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:54:12","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":1,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":1},{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:54:51","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":4,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":4},{"original_price":10000,"note":"ghi chu mon ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:55:32","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":5,"invoice_code":"1804190350001","order_status":0,"staff_id":1,"local_invoice_detail_id":5}],"invoice_no":1,"payment_status":1,"payment_date_time":"2018-04-19 14:54:12","discount":0.00,"machine_id":35,"table_id":2,"invoice_code":"1804190350001","created_date_time":"2018-04-19 14:54:12","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":5,"invoice_id":1,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124611395"}}
2018-04-19 14:56:51  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:51  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:56:51  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"18,19,20","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:56:51  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:51  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524124611395"}],"invoice_date":"180419"}}
2018-04-19 14:56:58  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:58  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 35, 2, 'invoice', '1804190350001', 4, '{\"checksum\":6,\"invoice_code\":\"1804190350001\",\"machine_id\":35,\"payment_date_time\":\"2018-04-19 14:56:58\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 14:56:58  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:56:58  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:56:59  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:56:59  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 14:56:59  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:56:59  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"21"}}
2018-04-19 14:56:59  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124618763"}}
2018-04-19 14:56:59  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:56:59  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"21","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:56:59  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:57:00  INFO InvoiceController:76 - InvoiceController.processs: cmd = get_invoice_list, data = {"from_date":"","from_index":0,"merchant_code":"tructrac","staff_id":1,"to_date":"","to_index":9}
2018-04-19 14:57:00  INFO InvoiceController:146 - InvoiceController.processs: response = {"err":0,"msg":"No error","dt":{"total":1,"invoices":[{"invoice_id":1,"invoice_code":"1804190350001","amount":70000,"created_date_time":"2018-04-19 14:54:12","payment_date_time":"2018-04-19 14:56:58","payment_method":4,"payment_status":2,"table_name":"Bn 1","guest_number":0,"area_type":1,"guest_name":""}]}}
2018-04-19 14:57:02  INFO InvoiceController:76 - InvoiceController.processs: cmd = get_invoice_detail, data = {"invoice_id":1,"merchant_code":"tructrac"}
2018-04-19 14:57:02  INFO InvoiceController:146 - InvoiceController.processs: response = {"err":0,"msg":"No error","dt":{"invoice_code":"1804190350001","amount":70000,"icreated_date_time":"2018-04-19 14:54:12","payment_date_time":"2018-04-19 14:56:58","payment_method":4,"order_staff_name":"ADMIN","payment_staff_name":"ADMIN","machine_name":"Bn 1","guest_number":0,"note":"ghu chu bill ne","guest_name":"","items":[{"invoice_detail_id":1,"item_name":"Red bull","quantity":2.0,"unit_price":20000,"original_price":20000,"amount":40000.0,"staff_id":1,"printer_mask":0,"cate_mask":1,"note":"","order_status":0},{"invoice_detail_id":4,"item_name":"Coca","quantity":1.0,"unit_price":10000,"original_price":10000,"amount":10000.0,"staff_id":1,"printer_mask":0,"cate_mask":1,"note":"","order_status":0},{"invoice_detail_id":5,"item_name":"Coca","quantity":2.0,"unit_price":10000,"original_price":10000,"amount":20000.0,"staff_id":1,"printer_mask":0,"cate_mask":1,"note":"ghi chu mon ne","order_status":0}]}}
2018-04-19 14:57:51  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:57:51  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524124618763"}],"invoice_date":"180419"}}
2018-04-19 14:57:52  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:57:52  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (22, 35, 3, 'invoice', '1804190350004', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 14:57:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190350004\",\"invoice_no\":4,\"local_invoice_id`\":4,\"note\":\"\",\"order_machine_id\":35,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 14:57:52\",\"payment_status\":1,\"table_id\":3}', 1), (23, 35, 3, 'invoice_detail', '1804190350004', 1, '{\"amount\":60000,\"invoice_code\":\"1804190350004\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":6,\"machine_id\":35,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:57:52\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 14:57:52  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:57:53  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:57:53  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:57:53  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350004"],"store_code":"tructrac"}
2018-04-19 14:57:53  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:57:53  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"22,23"}}
2018-04-19 14:57:53  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350004","table_id":3}],"updated_invoices":[{"guest_info":"","note":"","amount":60000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":60000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:57:52","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":6,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":6}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 14:57:52","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350004","created_date_time":"2018-04-19 14:57:52","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":1,"invoice_id":4,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124673482"}}
2018-04-19 14:57:53  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:57:53  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"22,23","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:57:53  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:57:54  INFO local:839 - local: Destroyed connection
2018-04-19 14:58:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (24, 35, 3, 'invoice', '1804190350004', 2, '{\"amount\":20000,\"invoice_code\":\"1804190350004\"}', 1), (25, 35, 3, 'invoice_detail', '1804190350004', 1, '{\"amount\":20000,\"invoice_code\":\"1804190350004\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":7,\"machine_id\":35,\"note\":\"ghi chu \\\"mon\\\" bay\\\" ne\",\"order_date_time\":\"2018-04-19 14:58:11\",\"order_status\":0,\"original_price\":10000,\"quantity\":2,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:58:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:12  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:58:12  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:58:12  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350004"],"store_code":"tructrac"}
2018-04-19 14:58:12  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:58:12  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"24,25"}}
2018-04-19 14:58:12  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350004","table_id":3}],"updated_invoices":[{"guest_info":"","note":"","amount":80000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":60000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:57:52","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":6,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":6},{"original_price":10000,"note":"ghi chu \"mon\" bay\" ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:58:11","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":7,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":7}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 14:57:52","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350004","created_date_time":"2018-04-19 14:57:52","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":2,"invoice_id":4,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124692581"}}
2018-04-19 14:58:12  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:12  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"24,25","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:58:12  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (26, 35, 3, 'invoice', '1804190350004', 2, '{\"amount\":10000,\"invoice_code\":\"1804190350004\"}', 1), (27, 35, 3, 'invoice_detail', '1804190350004', 1, '{\"amount\":10000,\"invoice_code\":\"1804190350004\",\"item_id\":1,\"item_name\":\"Coca\",\"local_invoice_detail_id\":8,\"machine_id\":35,\"note\":\"\",\"order_date_time\":\"2018-04-19 14:58:16\",\"order_status\":0,\"original_price\":10000,\"quantity\":1,\"staff_id\":1,\"unit_price\":10000}', 1)"}
2018-04-19 14:58:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:17  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:58:17  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:58:17  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350004"],"store_code":"tructrac"}
2018-04-19 14:58:17  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:58:17  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"26,27"}}
2018-04-19 14:58:17  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350004","table_id":3}],"updated_invoices":[{"guest_info":"","note":"","amount":90000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":60000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:57:52","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":6,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":6},{"original_price":10000,"note":"ghi chu \"mon\" bay\" ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:58:11","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":7,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":7},{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:58:16","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":8,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":8}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 14:57:52","discount":0.00,"machine_id":0,"table_id":3,"invoice_code":"1804190350004","created_date_time":"2018-04-19 14:57:52","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":3,"invoice_id":4,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124697194"}}
2018-04-19 14:58:17  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:17  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"26,27","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:58:17  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:29  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:29  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (28, 35, 2, 'invoice', '1804190350004', 6, '{\"invoice_code\":\"1804190350004\",\"machine_id\":35,\"table_id\":2}', 1)"}
2018-04-19 14:58:29  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:29  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:58:29  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:58:29  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190350004"],"store_code":"tructrac"}
2018-04-19 14:58:30  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:58:30  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"28"}}
2018-04-19 14:58:30  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190350004","table_id":2}],"updated_invoices":[{"guest_info":"","note":"","amount":90000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":60000.00,"quantity":3.00,"order_date_time":"2018-04-19 14:57:52","item_id":2,"machine_id":35,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":6,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":6},{"original_price":10000,"note":"ghi chu \"mon\" bay\" ne","amount":20000.00,"quantity":2.00,"order_date_time":"2018-04-19 14:58:11","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":7,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":7},{"original_price":10000,"note":"","amount":10000.00,"quantity":1.00,"order_date_time":"2018-04-19 14:58:16","item_id":1,"machine_id":35,"item_name":"Coca","unit_price":10000,"invoice_detail_id":8,"invoice_code":"1804190350004","order_status":0,"staff_id":1,"local_invoice_detail_id":8}],"invoice_no":4,"payment_status":1,"payment_date_time":"2018-04-19 14:57:52","discount":0.00,"machine_id":0,"table_id":2,"invoice_code":"1804190350004","created_date_time":"2018-04-19 14:57:52","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":35,"checksum":4,"invoice_id":4,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124709930"}}
2018-04-19 14:58:30  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:30  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"28","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:58:30  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (29, 35, 2, 'invoice', '1804190350004', 4, '{\"checksum\":5,\"invoice_code\":\"1804190350004\",\"machine_id\":35,\"payment_date_time\":\"2018-04-19 14:58:35\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 14:58:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:35  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 14:58:35  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 14:58:35  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 14:58:35  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 35, data = {"type":2,"msg":"","dt":{"machine_id":35,"exec_log_ids":"29"}}
2018-04-19 14:58:35  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 14:58:35  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524124715658"}}
2018-04-19 14:58:35  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 14:58:35  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"29","machine_id":35,"store_code":"tructrac"}
2018-04-19 14:58:35  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 14:58:51  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 14:58:51  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524124715658"}],"invoice_date":"180419"}}
2018-04-19 14:59:34  INFO NotifyController:123 - NotifyController.removeSession: store code = tructrac, client deviceId = f5c47c5ed8b94246a6713178db315382
2018-04-19 14:59:43  INFO ServiceDaemon:46 - Shutdown thread before webserver getinstance
2018-04-19 14:59:43  INFO ServerConnector:303 - Stopped ServerConnector@4159f985{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 14:59:43  INFO ContextHandler:864 - Stopped o.e.j.s.ServletContextHandler@3db9ceef{/,null,UNAVAILABLE}
2018-04-19 14:59:43  INFO ContextHandler:864 - Stopped o.e.j.s.h.ContextHandler@3313b960{/vpp/ntf,null,UNAVAILABLE}
2018-04-19 15:20:05  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:20:06  INFO local:839 - local: Created a new connection
2018-04-19 15:20:06  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:20:07  INFO local:839 - local: Created a new connection
2018-04-19 15:20:07  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:20:07  INFO local:839 - local: Created a new connection
2018-04-19 15:20:07  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:20:08  INFO local:839 - local: Created a new connection
2018-04-19 15:20:08  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:20:08  INFO local:839 - local: Created a new connection
2018-04-19 15:20:08  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:20:09  INFO local:839 - local: Created a new connection
2018-04-19 15:20:13  INFO log:178 - Logging initialized @7971ms
2018-04-19 15:20:13  INFO WebServer:74 - Start server...
2018-04-19 15:20:13  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@2c369dca{/,null,null} contextPath ends with /*
2018-04-19 15:20:13  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 15:20:13  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@2c369dca{/vpp/ntf,null,AVAILABLE}
2018-04-19 15:20:13  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@1ea59d22{/,null,AVAILABLE}
2018-04-19 15:20:13  INFO ServerConnector:266 - Started ServerConnector@3630cfa4{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 15:20:13  INFO Server:350 - Started @8267ms
2018-04-19 15:20:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:20:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1)"}
2018-04-19 15:20:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:20:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:20:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524125940213"}],"invoice_date":"180419"}}
2018-04-19 15:20:16  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 36, deviceId = 9a71fc0acedd440ab2395fa2b08b2509
2018-04-19 15:20:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:20:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1)"}
2018-04-19 15:20:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:20:22  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:20:22  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 15:20:22  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:21:41  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:21:42  INFO local:839 - local: Created a new connection
2018-04-19 15:21:42  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:21:42  INFO local:839 - local: Created a new connection
2018-04-19 15:21:42  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:21:43  INFO local:839 - local: Created a new connection
2018-04-19 15:21:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:21:43  INFO local:839 - local: Created a new connection
2018-04-19 15:21:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:21:43  INFO local:839 - local: Created a new connection
2018-04-19 15:21:43  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:21:43  INFO local:839 - local: Created a new connection
2018-04-19 15:21:45  INFO log:178 - Logging initialized @4912ms
2018-04-19 15:21:45  INFO WebServer:74 - Start server...
2018-04-19 15:21:45  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@45a1e9f2{/,null,null} contextPath ends with /*
2018-04-19 15:21:45  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 15:21:45  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@45a1e9f2{/vpp/ntf,null,AVAILABLE}
2018-04-19 15:21:45  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@401a0e12{/,null,AVAILABLE}
2018-04-19 15:21:45  INFO ServerConnector:266 - Started ServerConnector@16a7c6f2{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 15:21:45  INFO Server:350 - Started @5086ms
2018-04-19 15:21:46  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 36, deviceId = 9a71fc0acedd440ab2395fa2b08b2509
2018-04-19 15:21:46  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:21:46  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:21:46  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:22:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:22:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:22:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:22:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:22:17  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:22:17  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 15:22:18  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524126116040"}}
2018-04-19 15:23:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:23:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:23:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:23:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:23:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:24:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:24:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:24:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:24:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:24:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:24:42  INFO local:839 - local: Destroyed connection
2018-04-19 15:24:47  INFO local:839 - local: Destroyed connection
2018-04-19 15:25:58  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:25:59  INFO local:839 - local: Created a new connection
2018-04-19 15:25:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:25:59  INFO local:839 - local: Created a new connection
2018-04-19 15:25:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:25:59  INFO local:839 - local: Created a new connection
2018-04-19 15:25:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:25:59  INFO local:839 - local: Created a new connection
2018-04-19 15:25:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:25:59  INFO local:839 - local: Created a new connection
2018-04-19 15:25:59  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:26:00  INFO local:839 - local: Created a new connection
2018-04-19 15:26:00  INFO log:178 - Logging initialized @2686ms
2018-04-19 15:26:00  INFO WebServer:74 - Start server...
2018-04-19 15:26:00  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@14117c6b{/,null,null} contextPath ends with /*
2018-04-19 15:26:00  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 15:26:00  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@14117c6b{/vpp/ntf,null,AVAILABLE}
2018-04-19 15:26:00  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@b8b29a6{/,null,AVAILABLE}
2018-04-19 15:26:00  INFO ServerConnector:266 - Started ServerConnector@2a4b2d35{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 15:26:00  INFO Server:350 - Started @2843ms
2018-04-19 15:26:01  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 36, deviceId = 9a71fc0acedd440ab2395fa2b08b2509
2018-04-19 15:26:01  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:26:01  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 15:26:01  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:26:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:26:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:26:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 15:26:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:26:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:27:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:27:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:27:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 15:27:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:27:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:28:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:28:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:28:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1)"}
2018-04-19 15:28:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:28:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:28:59  INFO local:839 - local: Destroyed connection
2018-04-19 15:29:04  INFO local:839 - local: Destroyed connection
2018-04-19 15:29:08  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:29:08  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:29:08  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:29:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:29:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:29:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:29:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:29:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:30:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:30:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:30:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:30:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:30:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126116040"}],"invoice_date":"180419"}}
2018-04-19 15:31:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:31:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:31:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:31:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:31:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126619856"}],"invoice_date":"180419"}}
2018-04-19 15:31:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":[],"store_code":"tructrac"}
2018-04-19 15:31:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190360016","table_id":6}],"updated_invoices":[{"guest_info":"","note":"","amount":5000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 15:25:52","item_id":3,"machine_id":36,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":25,"invoice_code":"1804190360016","order_status":0,"staff_id":1,"local_invoice_detail_id":19}],"invoice_no":16,"payment_status":1,"payment_date_time":"2018-04-19 15:25:52","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190360016","created_date_time":"2018-04-19 15:25:52","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":36,"checksum":1,"invoice_id":23,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524126619856"}}
2018-04-19 15:32:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:32:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:32:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:32:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:32:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126619856"}],"invoice_date":"180419"}}
2018-04-19 15:33:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:33:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:33:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:33:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:33:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:33:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190360016"],"store_code":"tructrac"}
2018-04-19 15:33:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[],"updated_invoices":[{"guest_info":"","note":"","amount":5000.00,"order_staff_id":1,"invoice_details":[{"original_price":5000,"note":"","amount":5000.00,"quantity":1.00,"order_date_time":"2018-04-19 15:25:52","item_id":3,"machine_id":36,"item_name":"choco \"pie\"\"","unit_price":5000,"invoice_detail_id":25,"invoice_code":"1804190360016","order_status":0,"staff_id":1,"local_invoice_detail_id":19}],"invoice_no":16,"payment_status":2,"payment_date_time":"2018-04-19 15:29:08","discount":0.00,"machine_id":36,"table_id":6,"invoice_code":"1804190360016","created_date_time":"2018-04-19 15:25:52","expected_amount":0.00,"guest_number":0,"staff_id":1,"order_machine_id":36,"checksum":2,"invoice_id":23,"payment_method":4}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524126773103"}}
2018-04-19 15:34:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:34:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:34:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:34:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:34:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:35:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:35:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:35:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:35:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:35:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:36:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:36:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:36:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:36:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:36:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:37:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:37:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:37:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:37:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:37:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:38:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:38:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:38:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:38:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:38:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:39:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:39:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:39:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:39:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:39:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:40:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:40:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:40:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:40:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:40:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:41:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:41:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:41:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:41:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:41:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:42:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:42:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:42:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:42:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:42:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:43:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:43:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:43:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:43:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:43:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:44:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:44:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:44:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:44:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:44:16  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"infos":[{"name":"last_update_area","id":1,"value":"1"},{"name":"last_update_table","id":2,"value":"1523618466092"},{"name":"last_update_staff","id":3,"value":"1"},{"name":"last_update_category","id":4,"value":"1522894601851"},{"name":"last_update_item","id":5,"value":"1524118347941"},{"name":"last_update_item_option_detail","id":6,"value":"1524118347583"},{"name":"last_update_item_relation_detail","id":7,"value":"1524118347583"},{"name":"last_update_item_time","id":8,"value":"1524118347583"},{"name":"last_update_invoice","id":9,"value":"1524126773103"}],"invoice_date":"180419"}}
2018-04-19 15:44:25  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:44:26  INFO local:839 - local: Created a new connection
2018-04-19 15:44:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:44:26  INFO local:839 - local: Created a new connection
2018-04-19 15:44:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:44:26  INFO local:839 - local: Created a new connection
2018-04-19 15:44:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:44:26  INFO local:839 - local: Created a new connection
2018-04-19 15:44:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:44:26  INFO local:839 - local: Created a new connection
2018-04-19 15:44:26  INFO local:839 - local: Getting connection (user/password): jdbc:mysql://127.0.0.1:3307/?autoReconnect=true&failOverReadOnly=false&maxReconnects=10&useUnicode=true&characterEncoding=UTF-8&noAccessToProcedureBodies=true
2018-04-19 15:44:27  INFO local:839 - local: Created a new connection
2018-04-19 15:44:27  INFO log:178 - Logging initialized @2145ms
2018-04-19 15:44:27  INFO WebServer:74 - Start server...
2018-04-19 15:44:27  WARN ContextHandler:1324 - o.e.j.s.h.ContextHandler@3313b960{/,null,null} contextPath ends with /*
2018-04-19 15:44:27  INFO Server:301 - jetty-9.1.5.v20140505
2018-04-19 15:44:27  INFO ContextHandler:747 - Started o.e.j.s.h.ContextHandler@3313b960{/vpp/ntf,null,AVAILABLE}
2018-04-19 15:44:27  INFO ContextHandler:747 - Started o.e.j.s.ServletContextHandler@3db9ceef{/,null,AVAILABLE}
2018-04-19 15:44:27  INFO ServerConnector:266 - Started ServerConnector@583c1b38{HTTP/1.1}{0.0.0.0:7901}
2018-04-19 15:44:27  INFO Server:350 - Started @2279ms
2018-04-19 15:44:28  INFO NotifyController:70 - NotifyController.onConnect: storeCode = tructrac, appType = 3, machineId = 36, deviceId = 9a71fc0acedd440ab2395fa2b08b2509
2018-04-19 15:44:28  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:44:28  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (57, 36, 2, 'invoice', '1804190360013', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:20:22\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360013\",\"invoice_no\":13,\"local_invoice_id`\":13,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:20:22\",\"payment_status\":1,\"table_id\":2}', 1), (58, 36, 2, 'invoice_detail', '1804190360013', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360013\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":15,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:20:22\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (59, 36, 2, 'invoice', '1804190360013', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360013\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:02\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (60, 36, 3, 'invoice', '1804190360014', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:21:06\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360014\",\"invoice_no\":14,\"local_invoice_id`\":14,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:21:06\",\"payment_status\":1,\"table_id\":3}', 1), (61, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":16,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:06\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (62, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":25000,\"invoice_code\":\"1804190360014\"}', 1), (63, 36, 3, 'invoice_detail', '1804190360014', 1, '{\"amount\":25000,\"invoice_code\":\"1804190360014\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":17,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:21:11\",\"order_status\":0,\"original_price\":5000,\"quantity\":5,\"staff_id\":1,\"unit_price\":5000}', 1), (64, 36, 3, 'invoice', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\"}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (66, 36, 3, 'invoice', '1804190360014', 4, '{\"checksum\":4,\"invoice_code\":\"1804190360014\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:21:37\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (67, 36, 6, 'invoice', '1804190360015', 1, '{\"amount\":60000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:34\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360015\",\"invoice_no\":15,\"local_invoice_id`\":15,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:34\",\"payment_status\":1,\"table_id\":6}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (72, 36, 6, 'invoice', '1804190360016', 1, '{\"amount\":5000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:25:52\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360016\",\"invoice_no\":16,\"local_invoice_id`\":16,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:25:52\",\"payment_status\":1,\"table_id\":6}', 1), (73, 36, 6, 'invoice_detail', '1804190360016', 1, '{\"amount\":5000,\"invoice_code\":\"1804190360016\",\"item_id\":3,\"item_name\":\"choco \\\"pie\\\"\\\"\",\"local_invoice_detail_id\":19,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:52\",\"order_status\":0,\"original_price\":5000,\"quantity\":1,\"staff_id\":1,\"unit_price\":5000}', 1), (74, 36, 6, 'invoice', '1804190360016', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360016\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:29:08\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:44:28  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:44:28  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 15:44:28  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 15:44:28  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 36, data = {"type":2,"msg":"","dt":{"machine_id":36,"exec_log_ids":"57,58,59,60,61,62,63,64,66,67,72,73,74"}}
2018-04-19 15:44:28  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:44:28  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"57,58,59,60,61,62,63,64,66,67,72,73,74","machine_id":36,"store_code":"tructrac"}
2018-04-19 15:44:28  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:44:33  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:44:33  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (75, 36, 8, 'invoice', '1804190360017', 1, '{\"amount\":80000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:44:33\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360017\",\"invoice_no\":17,\"local_invoice_id`\":17,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:44:33\",\"payment_status\":1,\"table_id\":8}', 1), (76, 36, 8, 'invoice_detail', '1804190360017', 1, '{\"amount\":80000,\"invoice_code\":\"1804190360017\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":20,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:44:33\",\"order_status\":0,\"original_price\":20000,\"quantity\":4,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 15:44:33  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:44:34  INFO SyncDBTask:205 - SyncDBTaskprocessExecLog: chuan bi gui log
2018-04-19 15:44:34  INFO NotifyController:134 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 36, data = {"type":1,"msg":"","dt":{"table_name":"invoice"}}
2018-04-19 15:44:34  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_ordering_invoice_list, data = {"ordering_invoices":["1804190360017"],"store_code":"tructrac"}
2018-04-19 15:44:34  INFO SyncDBTask:217 - SyncDBTaskprocessExecLog: co gui yeu cau xoa
2018-04-19 15:44:34  INFO NotifyController:152 - NotifyController.sendMessageToClientByStoreCode: notify to client store_code = tructrac, machine_id = 36, data = {"type":2,"msg":"","dt":{"machine_id":36,"exec_log_ids":"75,76"}}
2018-04-19 15:44:34  INFO DownloadDBController:114 - DownloadDBController.processs: response = {"err":0,"msg":"No Error","dt":{"orders_on_table":[{"invoice_code":"1804190360015","table_id":6},{"invoice_code":"1804190360017","table_id":8}],"updated_invoices":[{"guest_info":"","note":"","amount":60000.00,"order_staff_id":1,"invoice_details":[],"invoice_no":15,"payment_status":1,"payment_date_time":"2018-04-19 15:25:34","discount":0.00,"machine_id":0,"table_id":6,"invoice_code":"1804190360015","created_date_time":"2018-04-19 15:25:34","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":36,"checksum":1,"invoice_id":29,"payment_method":0},{"guest_info":"","note":"","amount":80000.00,"order_staff_id":1,"invoice_details":[{"original_price":20000,"note":"","amount":80000.00,"quantity":4.00,"order_date_time":"2018-04-19 15:44:33","item_id":2,"machine_id":36,"item_name":"Red bull","unit_price":20000,"invoice_detail_id":26,"invoice_code":"1804190360017","order_status":0,"staff_id":1,"local_invoice_detail_id":20}],"invoice_no":17,"payment_status":1,"payment_date_time":"2018-04-19 15:44:33","discount":0.00,"machine_id":0,"table_id":8,"invoice_code":"1804190360017","created_date_time":"2018-04-19 15:44:33","expected_amount":0.00,"guest_number":0,"staff_id":0,"order_machine_id":36,"checksum":1,"invoice_id":30,"payment_method":0}],"merged_invoices":[],"locked_tables":[],"last_update_invoice":"1524127474411"}}
2018-04-19 15:44:34  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:44:34  INFO UploadDBController:56 - UploadDBController.processs: cmd = delete_exec_log, data = {"local_log_ids":"75,76","machine_id":36,"store_code":"tructrac"}
2018-04-19 15:44:34  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:45:06  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:45:06  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (77, 36, 8, 'invoice', '1804190360017', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360017\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:45:06\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1)"}
2018-04-19 15:45:06  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:45:11  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:45:11  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (77, 36, 8, 'invoice', '1804190360017', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360017\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:45:06\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (78, 36, 9, 'invoice', '1804190360018', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:45:11\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360018\",\"invoice_no\":18,\"local_invoice_id`\":18,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:45:11\",\"payment_status\":1,\"table_id\":9}', 1), (79, 36, 9, 'invoice_detail', '1804190360018', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360018\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":21,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:45:11\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 15:45:11  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:45:16  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:45:16  INFO DownloadDBController:60 - DownloadDBController.processs: cmd = get_table_last_update, data = {"store_code":"tructrac"}
2018-04-19 15:45:16  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (77, 36, 8, 'invoice', '1804190360017', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360017\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:45:06\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (78, 36, 9, 'invoice', '1804190360018', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:45:11\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360018\",\"invoice_no\":18,\"local_invoice_id`\":18,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:45:11\",\"payment_status\":1,\"table_id\":9}', 1), (79, 36, 9, 'invoice_detail', '1804190360018', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360018\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":21,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:45:11\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1)"}
2018-04-19 15:45:16  INFO UploadDBController:93 - UploadDBController.processs: response = {"err":0,"msg":"No error"}
2018-04-19 15:45:20  INFO UploadDBController:40 - UploadDBController.handle: request from null - 127.0.0.1
2018-04-19 15:45:20  INFO UploadDBController:56 - UploadDBController.processs: cmd = sync_exec_log, data = {"store_code":"tructrac","sync_data":"(`local_log_id`, `machine_id`, `table_id`, `table_name`, `invoice_code`, `exec_type`, `exec_query`, `status`) VALUES (21, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (23, 36, 9, 'invoice_detail', '1804190360006', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360006\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (39, 36, 2, 'invoice_detail', '1804190360008', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360008\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (52, 36, 9, 'invoice_detail', '1804190360011', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360011\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (65, 36, 3, 'invoice_detail', '1804190360014', 2, '{\"amount\":-10000,\"invoice_code\":\"1804190360014\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-2}', 1), (68, 36, 6, 'invoice_detail', '1804190360015', 1, '{\"amount\":60000,\"invoice_code\":\"1804190360015\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":18,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:25:34\",\"order_status\":0,\"original_price\":20000,\"quantity\":3,\"staff_id\":1,\"unit_price\":20000}', 1), (69, 36, 6, 'invoice', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\"}', 1), (70, 36, 6, 'invoice_detail', '1804190360015', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360015\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1), (71, 36, 6, 'invoice', '1804190360015', 4, '{\"checksum\":3,\"invoice_code\":\"1804190360015\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:25:48\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (77, 36, 8, 'invoice', '1804190360017', 4, '{\"checksum\":2,\"invoice_code\":\"1804190360017\",\"machine_id\":36,\"payment_date_time\":\"2018-04-19 15:45:06\",\"payment_method\":4,\"payment_status\":2,\"staff_id\":1}', 1), (78, 36, 9, 'invoice', '1804190360018', 1, '{\"amount\":100000,\"checksum\":1,\"created_date_time\":\"2018-04-19 15:45:11\",\"guest_info\":\"\",\"guest_number\":0,\"invoice_code\":\"1804190360018\",\"invoice_no\":18,\"local_invoice_id`\":18,\"note\":\"\",\"order_machine_id\":36,\"order_staff_id\":1,\"payment_date_time\":\"2018-04-19 15:45:11\",\"payment_status\":1,\"table_id\":9}', 1), (79, 36, 9, 'invoice_detail', '1804190360018', 1, '{\"amount\":100000,\"invoice_code\":\"1804190360018\",\"item_id\":2,\"item_name\":\"Red bull\",\"local_invoice_detail_id\":21,\"machine_id\":36,\"note\":\"\",\"order_date_time\":\"2018-04-19 15:45:11\",\"order_status\":0,\"original_price\":20000,\"quantity\":5,\"staff_id\":1,\"unit_price\":20000}', 1), (80, 36, 9, 'invoice', '1804190360018', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360018\"}', 1), (81, 36, 9, 'invoice_detail', '1804190360018', 2, '{\"amount\":-20000,\"invoice_code\":\"1804190360018\",\"local_invoice_detail_id\":0,\"machine_id\":0,\"quantity\":-1}', 1)"}
